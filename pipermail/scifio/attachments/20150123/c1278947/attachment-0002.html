<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Henry,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;a&nbsp;href=&quot;http://web.archive.org/web/20120627025240/http://www.buildanddeploy.com/node/14&quot;&nbsp;target=&quot;_blank&quot;&gt;http://web.archive.org/web/20120627025240/http://www.buildanddeploy.com/node/14&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:13px&quot;&gt;&gt;&lt;a&nbsp;href=&quot;http://web.archive.org/web/20120308042202/http://www.buildanddeploy.com/node/17&quot;&nbsp;target=&quot;_blank&quot;&gt;http://web.archive.org/web/20120308042202/http://www.buildanddeploy.com/node/17&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:13px&quot;&gt;Thanks&nbsp;for&nbsp;sharing&nbsp;these&nbsp;links,&nbsp;they&nbsp;were&nbsp;helpful.&nbsp;Since&nbsp;you&nbsp;already&nbsp;have&nbsp;.jars&nbsp;with&nbsp;the&nbsp;native&nbsp;code&nbsp;and&nbsp;jni&nbsp;code,&nbsp;I&nbsp;would&nbsp;be&nbsp;happy&nbsp;to&nbsp;upload&nbsp;them&nbsp;to&nbsp;our&nbsp;Maven&nbsp;repository&nbsp;so&nbsp;they&nbsp;can&nbsp;be&nbsp;consumed.&nbsp;This&nbsp;would&nbsp;at&nbsp;least&nbsp;allow&nbsp;others&nbsp;to&nbsp;build&nbsp;and&nbsp;test&nbsp;your&nbsp;format.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:13px&quot;&gt;The&nbsp;major&nbsp;limitation&nbsp;of&nbsp;this&nbsp;method&nbsp;is&nbsp;that&nbsp;requiring&nbsp;Maven&nbsp;configuration&nbsp;to&nbsp;extract&nbsp;the&nbsp;HDF5&nbsp;code&nbsp;and&nbsp;get&nbsp;it&nbsp;on&nbsp;the&nbsp;java.library.path&nbsp;is&nbsp;not&nbsp;extensible.&nbsp;I&nbsp;believe&nbsp;it&nbsp;would&nbsp;prevent&nbsp;your&nbsp;format&nbsp;from&nbsp;being&nbsp;used&nbsp;dynamically,&nbsp;and&nbsp;it&#39;s&nbsp;not&nbsp;really&nbsp;a&nbsp;technique&nbsp;other&nbsp;3rd&nbsp;party&nbsp;developers&nbsp;can&nbsp;use,&nbsp;because&nbsp;it&nbsp;requires&nbsp;updating&nbsp;pom&nbsp;configuration.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:13px&quot;&gt;The&nbsp;reason&nbsp;I&nbsp;was&nbsp;advocating&nbsp;for&nbsp;using&nbsp;the&nbsp;nar-maven-plugin&nbsp;is&nbsp;that,&nbsp;ideally,&nbsp;the&nbsp;resulting&nbsp;archive&nbsp;created&nbsp;would&nbsp;not&nbsp;need&nbsp;to&nbsp;be&nbsp;unpacked&nbsp;and&nbsp;would&nbsp;automatically&nbsp;add&nbsp;the&nbsp;native&nbsp;code&nbsp;to&nbsp;the&nbsp;java.library.path[1].&nbsp;So&nbsp;using&nbsp;your&nbsp;format&nbsp;as&nbsp;a&nbsp;flagship&nbsp;nar-maven-plugin&nbsp;would&nbsp;a)&nbsp;make&nbsp;it&nbsp;more&nbsp;awesome&nbsp;and&nbsp;b)&nbsp;serve&nbsp;as&nbsp;a&nbsp;guide&nbsp;for&nbsp;future&nbsp;format&nbsp;developers.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:13px&quot;&gt;It&nbsp;is,&nbsp;however,&nbsp;certainly&nbsp;more&nbsp;work&nbsp;to&nbsp;use&nbsp;the&nbsp;nar-maven-plugin&nbsp;right&nbsp;now.&nbsp;So,&nbsp;if&nbsp;you&nbsp;can&nbsp;send&nbsp;me&nbsp;your&nbsp;.jars&nbsp;with&nbsp;native&nbsp;and&nbsp;JNI&nbsp;code,&nbsp;I&#39;ll&nbsp;try&nbsp;to&nbsp;get&nbsp;them&nbsp;on&nbsp;our&nbsp;Maven&nbsp;shortly.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:13px&quot;&gt;Best,&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:13px&quot;&gt;Mark&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:13px&quot;&gt;P.S.&nbsp;I&nbsp;did&nbsp;start&nbsp;a&nbsp;project&nbsp;to&nbsp;NAR&nbsp;HDF5[2]&nbsp;but&nbsp;it&#39;s&nbsp;not&nbsp;functional&nbsp;yet.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:13px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:13px&quot;&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;http://maven-nar.github.io/usage.html#Create_a_JNI_library_that_is_automatically_unpacked_from_the_.nar_file_using_the_native-lib-loader_project&quot;&gt;http://maven-nar.github.io/usage.html#Create_a_JNI_library_that_is_automatically_unpacked_from_the_.nar_file_using_the_native-lib-loader_project&lt;/a&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:13px&quot;&gt;[2] &lt;a&nbsp;href=&quot;https://github.com/scijava/hdf-jni/tree/create-nar&quot;&gt;https://github.com/scijava/hdf-jni/tree/create-nar&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Jan&nbsp;16,&nbsp;2015&nbsp;at&nbsp;1:53&nbsp;PM,&nbsp;Henry&nbsp;Pinkard&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:henry.pinkard@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;henry.pinkard@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Mark,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Okay,&nbsp;I&#39;m&nbsp;following&nbsp;four&nbsp;tickets&nbsp;for&nbsp;LUTs&nbsp;and&nbsp;timestamps&nbsp;and&nbsp;I&nbsp;can&nbsp;update&nbsp;the&nbsp;writer&nbsp;accordingly&nbsp;once&nbsp;those&nbsp;are&nbsp;settled.&nbsp;Thanks&nbsp;for&nbsp;that.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;the&nbsp;meantime,&nbsp;I&nbsp;looked&nbsp;into&nbsp;the&nbsp;native&nbsp;libraries&nbsp;issue&nbsp;a&nbsp;bit&nbsp;more.&nbsp;The&nbsp;purpose&nbsp;of&nbsp;the&nbsp;NAR&nbsp;plugin&nbsp;seems&nbsp;to&nbsp;be&nbsp;compiling&nbsp;native&nbsp;code&nbsp;and&nbsp;adding&nbsp;them&nbsp;to&nbsp;archives,&nbsp;but&nbsp;since&nbsp;I&nbsp;already&nbsp;have&nbsp;the&nbsp;platform&nbsp;specific&nbsp;binaries,&nbsp;I&nbsp;think&nbsp;there&nbsp;is&nbsp;a&nbsp;simpler&nbsp;way&nbsp;of&nbsp;doing&nbsp;this&nbsp;that&nbsp;doesn&#39;t&nbsp;rely&nbsp;on&nbsp;having&nbsp;to&nbsp;compile&nbsp;the&nbsp;native&nbsp;code,&nbsp;which&nbsp;you&nbsp;can&nbsp;read&nbsp;more&nbsp;about&nbsp;here:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://web.archive.org/web/20120627025240/http://www.buildanddeploy.com/node/14&quot;&nbsp;target=&quot;_blank&quot;&gt;http://web.archive.org/web/20120627025240/http://www.buildanddeploy.com/node/14&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://web.archive.org/web/20120308042202/http://www.buildanddeploy.com/node/17&quot;&nbsp;target=&quot;_blank&quot;&gt;http://web.archive.org/web/20120308042202/http://www.buildanddeploy.com/node/17&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Basically,&nbsp;the&nbsp;idea&nbsp;is: &lt;/div&gt;&lt;div&gt;1)&nbsp;Add&nbsp;the&nbsp;third&nbsp;party&nbsp;.jar&nbsp;with&nbsp;JNI&nbsp;code&nbsp;that&nbsp;calls&nbsp;native&nbsp;binaries&nbsp;as&nbsp;a&nbsp;dependency &lt;/div&gt;&lt;div&gt;2)&nbsp;Package&nbsp;native&nbsp;binaries&nbsp;(.dll,&nbsp;.so,&nbsp;or&nbsp;.jnilib)&nbsp;into&nbsp;separate&nbsp;.jar&nbsp;files&nbsp;specific&nbsp;to&nbsp;each&nbsp;OS/architecture. &lt;/div&gt;&lt;div&gt;3)&nbsp;Add&nbsp;these&nbsp;.jar&#39;s&nbsp;to&nbsp;the&nbsp;SCIFIO&nbsp;maven&nbsp;repository&nbsp;with&nbsp;a&nbsp;classifier&nbsp;flag&nbsp;indicating&nbsp;OS/arch. &lt;/div&gt;&lt;div&gt;4)&nbsp;Add&nbsp;dependencies&nbsp;that&nbsp;get&nbsp;the&nbsp;correct&nbsp;jar&nbsp;based&nbsp;on&nbsp;OS/arch. &lt;/div&gt;&lt;div&gt;5)&nbsp;Use&nbsp;maven&nbsp;dependency&nbsp;plugin&nbsp;to&nbsp;unpack&nbsp;these&nbsp;libraries&nbsp;at&nbsp;build&nbsp;time. &lt;/div&gt;&lt;div&gt;6)&nbsp;Use&nbsp;maven&nbsp;surefire&nbsp;plugin&nbsp;to&nbsp;set&nbsp;java.library.path&nbsp;so&nbsp;that&nbsp;native&nbsp;libraries&nbsp;can&nbsp;be&nbsp;found&nbsp;at&nbsp;run&nbsp;time.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;think&nbsp;much&nbsp;of&nbsp;this&nbsp;needs&nbsp;to&nbsp;happen&nbsp;from&nbsp;your&nbsp;end&nbsp;(but&nbsp;this&nbsp;is&nbsp;my&nbsp;first&nbsp;time&nbsp;using&nbsp;maven,&nbsp;so&nbsp;correct&nbsp;me&nbsp;if&nbsp;I&#39;m&nbsp;wrong).&nbsp;I&#39;ve&nbsp;created&nbsp;the&nbsp;.jar&#39;s&nbsp;holding&nbsp;the&nbsp;native&nbsp;code,&nbsp;and&nbsp;I&nbsp;have&nbsp;the&nbsp;.jar&nbsp;with&nbsp;JNI&nbsp;code&nbsp;as&nbsp;well&nbsp;that&nbsp;I&nbsp;can&nbsp;pass&nbsp;along.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;do&nbsp;you&nbsp;think?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best,&lt;/div&gt;&lt;div&gt;Henry&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Jan&nbsp;16,&nbsp;2015&nbsp;at&nbsp;9:20&nbsp;AM,&nbsp;Mark&nbsp;Hiner&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:hiner@wisc.edu&quot;&nbsp;target=&quot;_blank&quot;&gt;hiner@wisc.edu&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hi&nbsp;Henry,&lt;span&gt;&lt;br&gt;&lt;br&gt;&gt;Can&nbsp;you&nbsp;offer&nbsp;up&nbsp;any&nbsp;examples&nbsp;of&nbsp;how&nbsp;to&nbsp;extract&nbsp;date/time&nbsp;metadata&nbsp;from&nbsp;image&nbsp;planes?&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;Of&nbsp;course,&nbsp;sorry&nbsp;I&nbsp;forgot&nbsp;these&nbsp;in&nbsp;my&nbsp;last&nbsp;e-mail.&lt;br&gt;&lt;br&gt;&lt;/div&gt;Basically&nbsp;time&nbsp;stamps&nbsp;can&nbsp;be&nbsp;incorporated&nbsp;into&nbsp;Metadata&nbsp;by&nbsp;using&nbsp;the&nbsp;net.imagej.axis.LinearAxis&nbsp;API&nbsp;to&nbsp;set&nbsp;the&nbsp;origin&nbsp;and&nbsp;scale[1],&nbsp;and&nbsp;CalibratedAxis&nbsp;to&nbsp;set&nbsp;the&nbsp;units[2]&nbsp;on&nbsp;the&nbsp;time&nbsp;axis&nbsp;(Axes.TIME)&nbsp;of&nbsp;the&nbsp;ImageMetadata.&lt;br&gt;&lt;br&gt;&lt;/div&gt;However,&nbsp;this&nbsp;process&nbsp;is&nbsp;not&nbsp;automated&nbsp;yet&nbsp;so&nbsp;only&nbsp;Formats&nbsp;which&nbsp;explicitly&nbsp;set&nbsp;this&nbsp;information&nbsp;would&nbsp;have&nbsp;time&nbsp;stamp&nbsp;information,&nbsp;and&nbsp;there&nbsp;is&nbsp;no&nbsp;API&nbsp;in&nbsp;the&nbsp;Plane&nbsp;to&nbsp;convert&nbsp;its&nbsp;plane&nbsp;index&nbsp;to&nbsp;a&nbsp;time&nbsp;stamp.&nbsp;So,&nbsp;I&nbsp;opened&nbsp;another&nbsp;issue&nbsp;to&nbsp;get&nbsp;these&nbsp;populated&nbsp;automatically[3]&nbsp;-&nbsp;at&nbsp;which&nbsp;point&nbsp;a&nbsp;Plane&nbsp;object&nbsp;should&nbsp;just&nbsp;be&nbsp;able&nbsp;to&nbsp;tell&nbsp;you&nbsp;its&nbsp;time/date&nbsp;stamp,&nbsp;for&nbsp;any&nbsp;core&nbsp;SCIFIO&nbsp;format&nbsp;that&nbsp;records&nbsp;this&nbsp;information.&lt;span&gt;&lt;br&gt;&lt;div&gt;&lt;br&gt;&gt;My&nbsp;TIFF&nbsp;dataset&nbsp;was&nbsp;simply&nbsp;one&nbsp;of&nbsp;the&nbsp;ImageJ&nbsp;samples.&nbsp;I&nbsp;made&nbsp;it&nbsp;using&nbsp;a&nbsp;<br>
pre-IJ2&nbsp;version&nbsp;of&nbsp;FIJI&nbsp;by&nbsp;selecting&nbsp;File--Open&nbsp;samples--Mitosis&nbsp;and&nbsp;<br>
saving&nbsp;as&nbsp;a&nbsp;TIFF.&lt;br&gt;&gt;I&nbsp;then&nbsp;reopened&nbsp;it&nbsp;using&nbsp;SCIFIO.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;Great,&nbsp;thanks.&nbsp;I&#39;ll&nbsp;do&nbsp;this&nbsp;and&nbsp;look&nbsp;into&nbsp;why&nbsp;the&nbsp;LUTs&nbsp;aren&#39;t&nbsp;populated.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best,&lt;br&gt;Mark&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/imagej/imagej-common/blob/1c96184fda188eba9d56d87364e141dbf07a286d/src/main/java/net/imagej/axis/LinearAxis.java#L44-50&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/imagej/imagej-common/blob/1c96184fda188eba9d56d87364e141dbf07a286d/src/main/java/net/imagej/axis/LinearAxis.java#L44-50&lt;/a&gt;&lt;br&gt;[2]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/imagej/imagej-common/blob/master/src/main/java/net/imagej/axis/CalibratedAxis.java#L47&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/imagej/imagej-common/blob/master/src/main/java/net/imagej/axis/CalibratedAxis.java#L47&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[3]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/issues/240&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/issues/240&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Jan&nbsp;15,&nbsp;2015&nbsp;at&nbsp;5:27&nbsp;PM,&nbsp;Henry&nbsp;Pinkard&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:henry.pinkard@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;henry.pinkard@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Mark,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Can&nbsp;you&nbsp;offer&nbsp;up&nbsp;any&nbsp;examples&nbsp;of&nbsp;how&nbsp;to&nbsp;extract&nbsp;date/time&nbsp;metadata&nbsp;from&nbsp;image&nbsp;planes?&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;span&gt;On&nbsp;Thu,&nbsp;Jan&nbsp;15,&nbsp;2015&nbsp;at&nbsp;4:21&nbsp;PM,&nbsp;Mark&nbsp;Hiner&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:hiner@wisc.edu&quot;&nbsp;target=&quot;_blank&quot;&gt;hiner@wisc.edu&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hi&nbsp;Henry,&lt;span&gt;&lt;br&gt;&lt;br&gt;&gt;&nbsp;Is&nbsp;it&nbsp;possible&nbsp;to&nbsp;include&nbsp;these&nbsp;binaries&nbsp;directly&nbsp;in&nbsp;the&nbsp;maven&nbsp;repository?&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;Not&nbsp;directly.&nbsp;But&nbsp;since&nbsp;their&nbsp;license&nbsp;allows&nbsp;them&nbsp;to&nbsp;be&nbsp;redistributed,&nbsp;I&nbsp;think&nbsp;what&nbsp;we&nbsp;want&nbsp;is&nbsp;to&nbsp;make&nbsp;NARs&nbsp;out&nbsp;of&nbsp;them[1]&nbsp;and&nbsp;put&nbsp;the&nbsp;NAR&nbsp;in&nbsp;the&nbsp;maven&nbsp;repository.&lt;br&gt;&lt;br&gt;&lt;/div&gt;However,&nbsp;there&nbsp;are&nbsp;almost&nbsp;certainly&nbsp;limitations&nbsp;right&nbsp;now.&nbsp;I&nbsp;personally&nbsp;do&nbsp;not&nbsp;have&nbsp;experience&nbsp;with&nbsp;the&nbsp;nar-maven-plugin,&nbsp;but&nbsp;I&nbsp;would&nbsp;go&nbsp;into&nbsp;it&nbsp;expecting&nbsp;some&nbsp;hurdles.&lt;br&gt;&lt;br&gt;&lt;/div&gt;On&nbsp;the&nbsp;other&nbsp;hand,&nbsp;I&nbsp;think&nbsp;your&nbsp;ImarisFormat&nbsp;is&nbsp;an&nbsp;awesome&nbsp;use&nbsp;case&nbsp;for&nbsp;the&nbsp;nar-maven-plugin&nbsp;and&nbsp;this&nbsp;is&nbsp;a&nbsp;great&nbsp;opportunity&nbsp;to&nbsp;work&nbsp;out&nbsp;problems&nbsp;and&nbsp;document&nbsp;NAR&nbsp;usage&nbsp;in&nbsp;SCIFIO/ImageJ2/Fiji!&nbsp;So&nbsp;I&#39;d&nbsp;be&nbsp;happy&nbsp;to&nbsp;help&nbsp;investigate&nbsp;further.&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;Okay,&nbsp;I&#39;ll&nbsp;play&nbsp;around&nbsp;with&nbsp;the&nbsp;NAR&nbsp;library&nbsp;and&nbsp;see&nbsp;what&nbsp;I&nbsp;come&nbsp;up&nbsp;with.&lt;/div&gt;&lt;span&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;Sort&nbsp;of.&nbsp;I&nbsp;think&nbsp;the&nbsp;SCIFIOConfig&nbsp;and&nbsp;Writer.getColorModel&nbsp;API&nbsp;are&nbsp;incorrect&nbsp;to&nbsp;use&nbsp;java.awt.image.ColorModels.&nbsp;I&nbsp;opened&nbsp;a&nbsp;ticket[4]&nbsp;to&nbsp;update&nbsp;them&nbsp;to&nbsp;the&nbsp;ImgLib2&nbsp;ColorTable&nbsp;class.&nbsp;When&nbsp;that&nbsp;ticket&nbsp;is&nbsp;complete,&nbsp;this&nbsp;is&nbsp;how&nbsp;everything&nbsp;should&nbsp;work:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;*&nbsp;You&nbsp;should&nbsp;make&nbsp;an&nbsp;ImarisFormat.Metadata&nbsp;that&nbsp;is&nbsp;a&nbsp;trivial&nbsp;extension&nbsp;of&nbsp;DefaultMetadata,&nbsp;but&nbsp;implements&nbsp;the&nbsp;HasColorTable&nbsp;interface&lt;br&gt;&lt;/div&gt;&lt;div&gt;*&nbsp;When&nbsp;your&nbsp;Writer&nbsp;is&nbsp;passed&nbsp;a&nbsp;SCIFIOConfig&nbsp;with&nbsp;an&nbsp;attached&nbsp;ColorTable,&nbsp;the&nbsp;framework&nbsp;will&nbsp;pass&nbsp;the&nbsp;ColorTable&nbsp;to&nbsp;the&nbsp;Writer&#39;s&nbsp;ImarisFormat.Metadata&lt;br&gt;&lt;/div&gt;&lt;div&gt;*&nbsp;In&nbsp;your&nbsp;Writer&#39;s&nbsp;writePlane&nbsp;implementation,&nbsp;you&nbsp;would&nbsp;check&nbsp;for&nbsp;a&nbsp;ColorTable&nbsp;on&nbsp;a)&nbsp;the&nbsp;provided&nbsp;Plane&nbsp;and&nbsp;b)&nbsp;the&nbsp;attached&nbsp;Metadata&nbsp;and&nbsp;write&nbsp;it&nbsp;out&nbsp;as&nbsp;appropriate.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;asking&nbsp;the&nbsp;Plane&nbsp;for&nbsp;its&nbsp;ColorTable&nbsp;was&nbsp;the&nbsp;right&nbsp;thing&nbsp;to&nbsp;do.&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;Okay,&nbsp;I&#39;m&nbsp;watching&nbsp;the&nbsp;ticket,&nbsp;so&nbsp;once&nbsp;everything&nbsp;works&nbsp;as&nbsp;it&nbsp;should&nbsp;I&#39;ll&nbsp;update&nbsp;this. &lt;/div&gt;&lt;span&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;The&nbsp;fact&nbsp;that&nbsp;the&nbsp;ColorTable&nbsp;isn&#39;t&nbsp;being&nbsp;transferred&nbsp;from&nbsp;your&nbsp;original&nbsp;TIFF&nbsp;dataset&nbsp;is&nbsp;likely&nbsp;a&nbsp;bug.&nbsp;I&#39;m&nbsp;not&nbsp;sure&nbsp;if&nbsp;it&nbsp;wasn&#39;t&nbsp;read&nbsp;properly&nbsp;on&nbsp;the&nbsp;TIFF&nbsp;side,&nbsp;or&nbsp;if&nbsp;it&nbsp;was&nbsp;read&nbsp;but&nbsp;didn&#39;t&nbsp;get&nbsp;passed&nbsp;to&nbsp;your&nbsp;ImarisFormat.Writer.&nbsp;Could&nbsp;you&nbsp;share&nbsp;your&nbsp;failing&nbsp;TIFF&nbsp;dataset&nbsp;so&nbsp;I&nbsp;can&nbsp;debug&nbsp;a&nbsp;bit&nbsp;more&nbsp;and&nbsp;figure&nbsp;out&nbsp;where&nbsp;it&#39;s&nbsp;going&nbsp;wrong?&nbsp;(note&nbsp;that&nbsp;you&nbsp;can&nbsp;use&nbsp;Fiji&nbsp;to&nbsp;upload&nbsp;a&nbsp;dataset[5]&nbsp;so&nbsp;that&nbsp;it&nbsp;won&#39;t&nbsp;be&nbsp;shared&nbsp;publicly)&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;My&nbsp;TIFF&nbsp;dataset&nbsp;was&nbsp;simply&nbsp;one&nbsp;of&nbsp;the&nbsp;ImageJ&nbsp;samples.&nbsp;I&nbsp;made&nbsp;it&nbsp;using&nbsp;a&nbsp;pre-IJ2&nbsp;version&nbsp;of&nbsp;FIJI&nbsp;by&nbsp;selecting&nbsp;File--Open&nbsp;samples--Mitosis&nbsp;and&nbsp;saving&nbsp;as&nbsp;a&nbsp;TIFF.&nbsp;I&nbsp;then&nbsp;reopened&nbsp;it&nbsp;using&nbsp;SCIFIO.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best,&lt;/div&gt;&lt;div&gt;Henry&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Jan&nbsp;15,&nbsp;2015&nbsp;at&nbsp;11:07&nbsp;AM,&nbsp;Henry&nbsp;Pinkard&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:henry.pinkard@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;henry.pinkard@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Mark,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;the&nbsp;quick&nbsp;reply!&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;span&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;1)&nbsp;Curtis&nbsp;knows&nbsp;this&nbsp;topic&nbsp;better&nbsp;than&nbsp;me,&nbsp;but&nbsp;I&nbsp;believe&nbsp;you&nbsp;can&nbsp;use&nbsp;the&nbsp;Maven&nbsp;NAR&nbsp;plugin[1]&nbsp;to&nbsp;build&nbsp;native&nbsp;code&nbsp;archives&nbsp;(.nar)&nbsp;which&nbsp;then&nbsp;can&nbsp;be&nbsp;distributed&nbsp;via&nbsp;a&nbsp;maven&nbsp;repository,&nbsp;such&nbsp;as&nbsp;our&nbsp;&lt;a&nbsp;href=&quot;http://maven.imagej.net&quot;&nbsp;target=&quot;_blank&quot;&gt;http://maven.imagej.net&lt;/a&gt;,&nbsp;and&nbsp;consumed&nbsp;as&nbsp;a&nbsp;normal&nbsp;Maven&nbsp;dependency&nbsp;by&nbsp;your&nbsp;writer.&nbsp;How&nbsp;is&nbsp;the&nbsp;native&nbsp;code&nbsp;you&#39;re&nbsp;using&nbsp;licensed? &lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;I&nbsp;don&#39;t&nbsp;actually&nbsp;need&nbsp;to&nbsp;build&nbsp;the&nbsp;native&nbsp;archives.&nbsp;They&nbsp;are&nbsp;distributed&nbsp;as&nbsp;pre&nbsp;built&nbsp;binaries&nbsp;on&nbsp;the&nbsp;HDF&nbsp;website.&nbsp;Is&nbsp;it&nbsp;possible&nbsp;to&nbsp;include&nbsp;these&nbsp;binaries&nbsp;directly&nbsp;in&nbsp;the&nbsp;maven&nbsp;repository?&nbsp;The&nbsp;license&nbsp;is&nbsp;a&nbsp;&quot;BSD&nbsp;style&nbsp;open-source&nbsp;license.&quot;&nbsp;More&nbsp;info&nbsp;can&nbsp;be&nbsp;found&nbsp;at: &lt;a&nbsp;href=&quot;http://www.hdfgroup.org/products/licenses.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.hdfgroup.org/products/licenses.html&lt;/a&gt;&lt;/div&gt;&lt;span&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;2)&nbsp;You&#39;re&nbsp;absolutely&nbsp;right,&nbsp;AbstractWriter&nbsp;is&nbsp;provided&nbsp;to&nbsp;take&nbsp;care&nbsp;of&nbsp;as&nbsp;much&nbsp;boilerplate&nbsp;as&nbsp;possible,&nbsp;to&nbsp;try&nbsp;and&nbsp;keep&nbsp;what&nbsp;developers&nbsp;like&nbsp;you&nbsp;have&nbsp;to&nbsp;implement&nbsp;to&nbsp;a&nbsp;minimum.&nbsp;We&nbsp;avoid&nbsp;using&nbsp;public/protected&nbsp;fields&nbsp;in&nbsp;our&nbsp;libraries&nbsp;because&nbsp;of&nbsp;the&nbsp;problems&nbsp;they&nbsp;create,&nbsp;given&nbsp;that&nbsp;there&nbsp;is&nbsp;no&nbsp;way&nbsp;to&nbsp;respond&nbsp;when&nbsp;such&nbsp;fields&nbsp;are&nbsp;directly&nbsp;modified.&nbsp;The&nbsp;way&nbsp;to&nbsp;access&nbsp;these&nbsp;fields&nbsp;should&nbsp;be&nbsp;accessor/mutator&nbsp;methods&nbsp;(e.g.&nbsp;getMetadata(),&nbsp;isInitialized(...),&nbsp;etc...),&nbsp;with&nbsp;the&nbsp;expectation&nbsp;that&nbsp;they&nbsp;can&nbsp;be&nbsp;overridden&nbsp;if&nbsp;necessary.&nbsp;Since&nbsp;it&nbsp;feels&nbsp;like&nbsp;you&#39;re&nbsp;overriding&nbsp;too&nbsp;many&nbsp;of&nbsp;these,&nbsp;though,&nbsp;could&nbsp;you&nbsp;provide&nbsp;some&nbsp;more&nbsp;information&nbsp;about&nbsp;what&nbsp;functionality&nbsp;you&nbsp;needed&nbsp;to&nbsp;add/modify?&nbsp;If&nbsp;the&nbsp;API&nbsp;is&nbsp;lacking,&nbsp;my&nbsp;first&nbsp;choice&nbsp;would&nbsp;be&nbsp;to&nbsp;improve&nbsp;AbstractWriter&nbsp;so&nbsp;that&nbsp;it&nbsp;better&nbsp;meets&nbsp;your&nbsp;needs&nbsp;(and&nbsp;those&nbsp;of&nbsp;future&nbsp;developers!).&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;As&nbsp;I&nbsp;look&nbsp;over&nbsp;this&nbsp;again,&nbsp;I&nbsp;think&nbsp;that&nbsp;this&nbsp;writer&nbsp;is&nbsp;probably&nbsp;an&nbsp;exception&nbsp;that&nbsp;operates&nbsp;by&nbsp;different&nbsp;mechanisms&nbsp;than&nbsp;most&nbsp;Formats,&nbsp;and&nbsp;probably&nbsp;doesn&#39;t&nbsp;warrant&nbsp;a&nbsp;change&nbsp;in&nbsp;the&nbsp;API.&nbsp;more&nbsp;on&nbsp;this&nbsp;below.&lt;/div&gt;&lt;span&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;3)&nbsp;So,&nbsp;what&nbsp;you&nbsp;most&nbsp;likely&nbsp;want&nbsp;to&nbsp;do&nbsp;here&nbsp;is&nbsp;implement&nbsp;your&nbsp;own&nbsp;Metadata&nbsp;class&nbsp;for&nbsp;the&nbsp;ImarisFormat.&nbsp;DefaultMetadata&nbsp;was&nbsp;created&nbsp;as&nbsp;a&nbsp;dummy&nbsp;class&nbsp;to&nbsp;provide&nbsp;some&nbsp;minimal&nbsp;default&nbsp;implementation&nbsp;for&nbsp;formats&nbsp;that&nbsp;simply&nbsp;don&#39;t&nbsp;have&nbsp;any&nbsp;metadata&nbsp;to&nbsp;store&nbsp;(e.g.&nbsp;the&nbsp;JavaFormat,&nbsp;which&nbsp;only&nbsp;writes&nbsp;images).&nbsp;If&nbsp;you&nbsp;use&nbsp;DefaultMetadata,&nbsp;your&nbsp;Format&nbsp;should&nbsp;still&nbsp;work&nbsp;-&nbsp;but&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;convert&nbsp;an&nbsp;ImarisFormat&nbsp;image&nbsp;to&nbsp;something&nbsp;else&nbsp;(such&nbsp;as&nbsp;an&nbsp;.ome.tif)&nbsp;you&nbsp;may&nbsp;be&nbsp;missing&nbsp;the&nbsp;opportunity&nbsp;to&nbsp;preserve&nbsp;any&nbsp;Imaris-specific&nbsp;metadata.&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;think&nbsp;this&nbsp;flow&nbsp;was&nbsp;not&nbsp;properly&nbsp;described&nbsp;in&nbsp;SCIFIO.&nbsp;To&nbsp;take&nbsp;a&nbsp;step&nbsp;towards&nbsp;improvement,&nbsp;I&nbsp;updated&nbsp;the&nbsp;custom&nbsp;format&nbsp;tutorial[2]&nbsp;to&nbsp;better&nbsp;explain&nbsp;the&nbsp;role&nbsp;of&nbsp;format-specific&nbsp;metadata.&lt;br&gt;&lt;br&gt;As&nbsp;to&nbsp;the&nbsp;actual&nbsp;LUT&nbsp;question,&nbsp;I&nbsp;suggest&nbsp;modeling&nbsp;the&nbsp;ImarisFormat&nbsp;after&nbsp;a&nbsp;simple&nbsp;format&nbsp;that&nbsp;has&nbsp;a&nbsp;LUT&nbsp;-&nbsp;such&nbsp;as&nbsp;BMPFormat[3].&nbsp;You&nbsp;can&nbsp;see&nbsp;that&nbsp;the&nbsp;BMPFormat&#39;s&nbsp;metadata&nbsp;implements&nbsp;a&nbsp;HasColorTable&nbsp;interface[4].&nbsp;It&nbsp;is&nbsp;then&nbsp;the&nbsp;role&nbsp;of&nbsp;the&nbsp;Parser&nbsp;to&nbsp;populate&nbsp;the&nbsp;metadata&#39;s&nbsp;color&nbsp;table[5].&nbsp;Then&nbsp;it&nbsp;is&nbsp;the&nbsp;role&nbsp;of&nbsp;the&nbsp;Reader&nbsp;to&nbsp;attach&nbsp;the&nbsp;color&nbsp;table&nbsp;to&nbsp;a&nbsp;plane[6].&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;SCIFIOConfig&nbsp;method&nbsp;you&nbsp;mentioned[7]&nbsp;is&nbsp;for&nbsp;external&nbsp;software&nbsp;to&nbsp;set&nbsp;a&nbsp;custom&nbsp;LUT&nbsp;when&nbsp;saving&nbsp;an&nbsp;image.&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;Actually,&nbsp;I&nbsp;think&nbsp;the&nbsp;SCIFIO&nbsp;tutorials&nbsp;described&nbsp;the&nbsp;flow&nbsp;quite&nbsp;well.&nbsp;The&nbsp;library&nbsp;that&nbsp;I&#39;m&nbsp;adding&nbsp;in&nbsp;to&nbsp;the&nbsp;ImarisFormat&nbsp;is&nbsp;only&nbsp;for&nbsp;writing&nbsp;IMS&nbsp;files&nbsp;and&nbsp;doesn&#39;t&nbsp;support&nbsp;reading&nbsp;them,&nbsp;so&nbsp;I&nbsp;opted&nbsp;to&nbsp;model&nbsp;this&nbsp;off&nbsp;of&nbsp;JavaFormat.&nbsp;There&nbsp;are&nbsp;a&nbsp;few&nbsp;basic&nbsp;metadata&nbsp;fields&nbsp;needed&nbsp;for&nbsp;writing,&nbsp;but&nbsp;I&nbsp;didn&#39;t&nbsp;think&nbsp;it&nbsp;necessary&nbsp;to&nbsp;create&nbsp;a&nbsp;format-specific&nbsp;metadata&nbsp;class&nbsp;to&nbsp;hold&nbsp;them.&nbsp;Since&nbsp;Imaris&nbsp;is&nbsp;a&nbsp;software&nbsp;for&nbsp;only&nbsp;analysis,&nbsp;no&nbsp;acquisition&nbsp;softwares&nbsp;save&nbsp;directly&nbsp;into&nbsp;IMS&nbsp;format.&nbsp;So&nbsp;the&nbsp;most&nbsp;complete&nbsp;set&nbsp;of&nbsp;metadata&nbsp;will&nbsp;always&nbsp;reside&nbsp;in&nbsp;whatever&nbsp;format&nbsp;was&nbsp;used&nbsp;to&nbsp;create&nbsp;the&nbsp;IMS&nbsp;file.&nbsp;If&nbsp;you&nbsp;think&nbsp;it&nbsp;would&nbsp;be&nbsp;better&nbsp;to&nbsp;create&nbsp;an&nbsp;ImarisFormat.Metadata&nbsp;class,&nbsp;I&#39;m&nbsp;happy&nbsp;to&nbsp;do&nbsp;so,&nbsp;but&nbsp;I&nbsp;don&#39;t&nbsp;think&nbsp;it&nbsp;would&nbsp;affect&nbsp;the&nbsp;functionality&nbsp;of&nbsp;the&nbsp;format. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;took&nbsp;a&nbsp;look&nbsp;at&nbsp;BMPFormat,&nbsp;and&nbsp;I&nbsp;think&nbsp;the&nbsp;color&nbsp;table&nbsp;here&nbsp;is&nbsp;being&nbsp;read&nbsp;from&nbsp;a&nbsp;BMP&nbsp;file&nbsp;and&nbsp;then&nbsp;stored&nbsp;in&nbsp;the&nbsp;BMP&nbsp;specific&nbsp;metadata,&nbsp;right?&nbsp;I&#39;m&nbsp;actually&nbsp;looking&nbsp;to&nbsp;do&nbsp;the&nbsp;opposite--write&nbsp;an&nbsp;LUT&nbsp;into&nbsp;an&nbsp;IMS.&nbsp;So&nbsp;then&nbsp;I&nbsp;should&nbsp;use&nbsp;the&nbsp;one&nbsp;provided&nbsp;by&nbsp;the&nbsp;SCIFIO&nbsp;config&nbsp;method,&nbsp;right?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;How&nbsp;about&nbsp;date/time&nbsp;stamps?&nbsp;Is&nbsp;there&nbsp;any&nbsp;way&nbsp;to&nbsp;extract&nbsp;this&nbsp;from&nbsp;default&nbsp;metadata&nbsp;classes&nbsp;or&nbsp;does&nbsp;it&nbsp;need&nbsp;to&nbsp;be&nbsp;done&nbsp;in&nbsp;a&nbsp;metadata&nbsp;format-specific&nbsp;manner?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best,&lt;/div&gt;&lt;div&gt;Henry&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/maven-nar/nar-maven-plugin&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/maven-nar/nar-maven-plugin&lt;/a&gt;&lt;br&gt;[2]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio-tutorials/blob/5f9212a685c18ddc0cb4500e7ac4a3f1aad1940b/core/src/main/java/io/scif/tutorials/core/T3aCustomFormats.java#L123-133&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio-tutorials/blob/5f9212a685c18ddc0cb4500e7ac4a3f1aad1940b/core/src/main/java/io/scif/tutorials/core/T3aCustomFormats.java#L123-133&lt;/a&gt;&lt;br&gt;[3]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/formats/BMPFormat.java&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/formats/BMPFormat.java&lt;/a&gt;&lt;br&gt;[4]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/formats/BMPFormat.java#L90-91&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/formats/BMPFormat.java#L90-91&lt;/a&gt;&lt;br&gt;[5]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/formats/BMPFormat.java#L283-292&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/formats/BMPFormat.java#L283-292&lt;/a&gt;&lt;br&gt;[6]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/formats/BMPFormat.java#L399-400&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/formats/BMPFormat.java#L399-400&lt;/a&gt;&lt;br&gt;[7]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/config/SCIFIOConfig.java#L264-271&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/config/SCIFIOConfig.java#L264-271&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Wed,&nbsp;Jan&nbsp;14,&nbsp;2015&nbsp;at&nbsp;3:28&nbsp;PM,&nbsp;Henry&nbsp;Pinkard&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:henry.pinkard@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;henry.pinkard@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hi&nbsp;Curtis&nbsp;and&nbsp;Mark,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Finally&nbsp;back&nbsp;to&nbsp;work&nbsp;on&nbsp;this&nbsp;project.&nbsp;I&#39;ve&nbsp;created&nbsp;an&nbsp;ImarisFormat&nbsp;class&nbsp;in&nbsp;my&nbsp;local&nbsp;copy&nbsp;of&nbsp;SCIFIO&nbsp;and&nbsp;have&nbsp;gotten&nbsp;a&nbsp;basic&nbsp;version&nbsp;of&nbsp;ImarisFormat.Writer&nbsp;working.&nbsp;Several&nbsp;questions&nbsp;regarding&nbsp;this:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1)&nbsp;Since&nbsp;.ims&nbsp;files&nbsp;are&nbsp;a&nbsp;specific&nbsp;type&nbsp;of&nbsp;HDF5&nbsp;file,&nbsp;I&#39;m&nbsp;utilizing&nbsp;the&nbsp;HDF&nbsp;Java&nbsp;library&nbsp;to&nbsp;do&nbsp;the&nbsp;writing.&nbsp;Maven&nbsp;is&nbsp;able&nbsp;to&nbsp;record&nbsp;a&nbsp;dependency&nbsp;for&nbsp;the&nbsp;.jar&nbsp;file&nbsp;needed&nbsp;by&nbsp;this&nbsp;library,&nbsp;but&nbsp;I&#39;m&nbsp;not&nbsp;sure&nbsp;how&nbsp;to&nbsp;indicate&nbsp;a&nbsp;dependency&nbsp;on&nbsp;the&nbsp;the&nbsp;native&nbsp;files&nbsp;that&nbsp;the&nbsp;library&nbsp;uses&nbsp;through&nbsp;the&nbsp;JNI.&nbsp;For&nbsp;testing&nbsp;purposes&nbsp;I&nbsp;just&nbsp;copied&nbsp;these&nbsp;libraries&nbsp;into&nbsp;the&nbsp;SCIFIO&nbsp;root&nbsp;directory,&nbsp;but&nbsp;this&nbsp;is&nbsp;obviously&nbsp;not&nbsp;a&nbsp;solution.&nbsp;I&nbsp;assume&nbsp;that&nbsp;there&nbsp;is&nbsp;an&nbsp;elegant&nbsp;way&nbsp;of&nbsp;doing&nbsp;this,&nbsp;since&nbsp;the&nbsp;BioFormats&nbsp;Imaris&nbsp;reader&nbsp;is&nbsp;able&nbsp;to&nbsp;read&nbsp;these&nbsp;files.&nbsp;Any&nbsp;thoughts?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2)&nbsp;I&#39;m&nbsp;unsure&nbsp;whether&nbsp;to&nbsp;have&nbsp;the&nbsp;writer&nbsp;extend&nbsp;AbstractWriter&nbsp;or&nbsp;simply&nbsp;implement&nbsp;TypedWrtier.&nbsp;I&nbsp;would&nbsp;think&nbsp;that&nbsp;AbstractWriter&nbsp;is&nbsp;provided&nbsp;as&nbsp;a&nbsp;stub&nbsp;to&nbsp;easily&nbsp;extend&nbsp;when&nbsp;making&nbsp;writer&nbsp;classes,&nbsp;but&nbsp;the&nbsp;private&nbsp;access&nbsp;to&nbsp;all&nbsp;of&nbsp;this&nbsp;classes&nbsp;field&#39;s&nbsp;(metadata,&nbsp;initialized,&nbsp;etc.)&nbsp;mean&nbsp;that&nbsp;I&nbsp;have&nbsp;to&nbsp;extend&nbsp;many&nbsp;more&nbsp;methods&nbsp;than&nbsp;I&nbsp;would&nbsp;like.&nbsp;Could&nbsp;these&nbsp;fields&nbsp;be&nbsp;made&nbsp;protected,&nbsp;or&nbsp;should&nbsp;I&nbsp;switch&nbsp;to&nbsp;TypedWriter&nbsp;and&nbsp;have&nbsp;a&nbsp;lot&nbsp;of&nbsp;empty,&nbsp;irrelevant&nbsp;methods?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;3)&nbsp;I&#39;m&nbsp;able&nbsp;to&nbsp;pull&nbsp;all&nbsp;the&nbsp;metadata&nbsp;required&nbsp;for&nbsp;writing&nbsp;these&nbsp;files&nbsp;from&nbsp;DefaultMetadata&nbsp;and&nbsp;DefaultImageMetadata,&nbsp;with&nbsp;the&nbsp;exception&nbsp;of&nbsp;two&nbsp;things.&nbsp;First,&nbsp;is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;acquisition&nbsp;date&nbsp;and&nbsp;timestamps&nbsp;form&nbsp;individual&nbsp;planes?&nbsp;Second,&nbsp;the config.writerGetColorModel()&nbsp;call&nbsp;that&nbsp;I&nbsp;copied&nbsp;from&nbsp;AbstractWriter&nbsp;returns&nbsp;null,&nbsp;as&nbsp;does&nbsp;plane.getColorTable().&nbsp;Is&nbsp;there&nbsp;some&nbsp;other&nbsp;way&nbsp;to&nbsp;get&nbsp;image&nbsp;lookup&nbsp;tables?&nbsp;My&nbsp;test&nbsp;code&nbsp;opens&nbsp;a&nbsp;Tiff&nbsp;stack&nbsp;saved&nbsp;by&nbsp;FIJI&nbsp;that&nbsp;has&nbsp;LUTs&nbsp;applied,&nbsp;so&nbsp;I&nbsp;would&nbsp;think&nbsp;they&nbsp;would&nbsp;be&nbsp;there.&nbsp;Is&nbsp;there&nbsp;another&nbsp;mechanism&nbsp;for&nbsp;getting&nbsp;image&nbsp;LUTs?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Excited&nbsp;to&nbsp;see&nbsp;this&nbsp;writer&nbsp;become&nbsp;part&nbsp;of&nbsp;SCIFIO&nbsp;in&nbsp;the&nbsp;near&nbsp;future.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best,&lt;/div&gt;&lt;div&gt;Henry&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Jul&nbsp;16,&nbsp;2014&nbsp;at&nbsp;4:32&nbsp;PM,&nbsp;Curtis&nbsp;Rueden&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:ctrueden@wisc.edu&quot;&nbsp;target=&quot;_blank&quot;&gt;ctrueden@wisc.edu&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Henry,&lt;span&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&gt;&nbsp;I&#39;ve&nbsp;created&nbsp;a&nbsp;class&nbsp;in&nbsp;the&nbsp;io.scif.formats&nbsp;package&nbsp;for&nbsp;my&nbsp;writer.&lt;/div&gt;&lt;div&gt;&gt;&nbsp;Since&nbsp;I&nbsp;only&nbsp;have&nbsp;the&nbsp;writer&nbsp;components,&nbsp;but&nbsp;not&nbsp;the&nbsp;reader,&nbsp;how&lt;/div&gt;&lt;div&gt;&gt;&nbsp;should&nbsp;I&nbsp;go&nbsp;about&nbsp;implementing&nbsp;all&nbsp;of&nbsp;the&nbsp;component&nbsp;classes&nbsp;of&nbsp;Format&lt;/div&gt;<br>
<br>
&lt;div&gt;&gt;&nbsp;(Metadata,&nbsp;Parser,&nbsp;Checker,&nbsp;Reader,&nbsp;Writer,&nbsp;Translator).&nbsp;The&nbsp;first&nbsp;4&lt;/div&gt;&lt;div&gt;&gt;&nbsp;are&nbsp;listed&nbsp;as&nbsp;mandatory&nbsp;in&nbsp;the&nbsp;tutorial,&nbsp;but&nbsp;it&nbsp;seems&nbsp;like&nbsp;I&nbsp;shouldn&#39;t&lt;/div&gt;&lt;div&gt;&gt;&nbsp;need&nbsp;all&nbsp;of&nbsp;them&nbsp;for&nbsp;writing&nbsp;functionality&nbsp;alone.&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;Agreed,&nbsp;it&nbsp;should&nbsp;not&nbsp;be&nbsp;necessary&nbsp;to&nbsp;create&nbsp;Reader&nbsp;or&nbsp;Parser&nbsp;components.&nbsp;However,&nbsp;writer-only&nbsp;components&nbsp;are&nbsp;still&nbsp;a&nbsp;little&nbsp;rough&nbsp;around&nbsp;the&nbsp;edges.&nbsp;The&nbsp;relevant&nbsp;issue&nbsp;is:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/issues/211&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/issues/211&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Feel&nbsp;free&nbsp;to&nbsp;comment&nbsp;on&nbsp;that&nbsp;so&nbsp;that&nbsp;GitHub&nbsp;sends&nbsp;you&nbsp;updates&nbsp;if&nbsp;you&nbsp;care&nbsp;about&nbsp;progress&nbsp;on&nbsp;it.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;in&nbsp;the&nbsp;meantime,&nbsp;it&nbsp;should&nbsp;still&nbsp;be&nbsp;possible&nbsp;to&nbsp;create&nbsp;a&nbsp;writer-only&nbsp;component.&nbsp;For&nbsp;an&nbsp;example,&nbsp;see&nbsp;the&nbsp;JavaFormat:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/scifio-0.15.4/scifio/src/main/java/io/scif/formats/JavaFormat.java&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/scifio-0.15.4/scifio/src/main/java/io/scif/formats/JavaFormat.java&lt;/a&gt;&lt;br&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;Curtis&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Jun&nbsp;25,&nbsp;2014&nbsp;at&nbsp;1:21&nbsp;PM,&nbsp;Henry&nbsp;Pinkard&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:henry.pinkard@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;henry.pinkard@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Curtis,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;all&nbsp;sounds&nbsp;great.&nbsp;I&#39;ve&nbsp;cloned&nbsp;the&nbsp;SCIFIO&nbsp;core&nbsp;as&nbsp;well&nbsp;as&nbsp;the&nbsp;tutorials,&nbsp;which&nbsp;have&nbsp;been&nbsp;quite&nbsp;helpful&nbsp;in&nbsp;getting&nbsp;things&nbsp;set&nbsp;up. &lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;ve&nbsp;created&nbsp;a&nbsp;class&nbsp;in&nbsp;the&nbsp;io.scif.formats&nbsp;package&nbsp;for&nbsp;my&nbsp;writer.&nbsp;Since&nbsp;I&nbsp;only&nbsp;have&nbsp;the&nbsp;writer&nbsp;components,&nbsp;but&nbsp;not&nbsp;the&nbsp;reader,&nbsp;how&nbsp;should&nbsp;I&nbsp;go&nbsp;about&nbsp;implementing&nbsp;all&nbsp;of&nbsp;the&nbsp;component&nbsp;classes&nbsp;of&nbsp;Format&nbsp;(Metadata,&nbsp;Parser,&nbsp;Checker,&nbsp;Reader,&nbsp;Writer,&nbsp;Translator).&nbsp;The&nbsp;first&nbsp;4&nbsp;are&nbsp;listed&nbsp;as&nbsp;mandatory&nbsp;in&nbsp;the&nbsp;tutorial,&nbsp;but&nbsp;it&nbsp;seems&nbsp;like&nbsp;I&nbsp;shouldn&#39;t&nbsp;need&nbsp;all&nbsp;of&nbsp;them&nbsp;for&nbsp;writing&nbsp;functionality&nbsp;alone.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best,&lt;/div&gt;&lt;div&gt;Henry&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sun,&nbsp;Jun&nbsp;1,&nbsp;2014&nbsp;at&nbsp;7:27&nbsp;AM,&nbsp;Curtis&nbsp;Rueden&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:ctrueden@wisc.edu&quot;&nbsp;target=&quot;_blank&quot;&gt;ctrueden@wisc.edu&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Henry,&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&gt;&nbsp;Over&nbsp;the&nbsp;past&nbsp;couple&nbsp;years,&nbsp;I&#39;ve&nbsp;been&nbsp;developing&nbsp;and&nbsp;testing&nbsp;a&nbsp;java&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&gt;&nbsp;library&nbsp;that&nbsp;is&nbsp;capable&nbsp;of&nbsp;writing&nbsp;Imaris&nbsp;.ims&nbsp;files.&nbsp;This&nbsp;library&nbsp;has&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
&gt;&nbsp;allowed&nbsp;me&nbsp;to&nbsp;build&nbsp;an&nbsp;ImageJ&nbsp;plugin&nbsp;that&nbsp;automatically&nbsp;stitches,&lt;/div&gt;&lt;div&gt;&gt;&nbsp;processes,&nbsp;and&nbsp;converts&nbsp;OME-TIFFs&nbsp;from&nbsp;Micro-Manager&nbsp;into&nbsp;Imaris&lt;/div&gt;&lt;div&gt;&gt;&nbsp;files,&nbsp;which&nbsp;in&nbsp;turn&nbsp;allows&nbsp;a&nbsp;significantly&nbsp;greater&nbsp;throughput&nbsp;of&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&gt;&nbsp;imaging&nbsp;data&nbsp;with&nbsp;much&nbsp;less&nbsp;effort&nbsp;from&nbsp;users.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Sounds&nbsp;great!&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&gt;&nbsp;This&nbsp;library&nbsp;has&nbsp;been&nbsp;instrumental&nbsp;to&nbsp;the&nbsp;workflow&nbsp;of&nbsp;users&nbsp;in&nbsp;the&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&gt;&nbsp;imaging&nbsp;center&nbsp;in&nbsp;which&nbsp;I&nbsp;work,&nbsp;and&nbsp;I&nbsp;want&nbsp;to&nbsp;find&nbsp;a&nbsp;way&nbsp;to&nbsp;share&nbsp;its&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&gt;&nbsp;utility&nbsp;with&nbsp;researchers&nbsp;everywhere.&nbsp;Incorporating&nbsp;it&nbsp;into&nbsp;the&lt;/div&gt;&lt;div&gt;&gt;&nbsp;Bio-Formats&nbsp;exporter&nbsp;would&nbsp;both&nbsp;increase&nbsp;its&nbsp;visibility&nbsp;and&nbsp;leverage&lt;/div&gt;&lt;div&gt;&gt;&nbsp;the&nbsp;multitude&nbsp;of&nbsp;formats&nbsp;on&nbsp;Bio-Formats&#39;&nbsp;front&nbsp;end&nbsp;to&nbsp;make&nbsp;it&nbsp;usable&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&gt;&nbsp;with&nbsp;all&nbsp;types&nbsp;of&nbsp;microscopy&nbsp;data.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Rather&nbsp;than&nbsp;implementing&nbsp;a&nbsp;Bio-Formats&nbsp;writer,&nbsp;I&nbsp;encourage&nbsp;you&nbsp;to&nbsp;check&nbsp;out&nbsp;SCIFIO&nbsp;[1,&nbsp;2,&nbsp;3].&nbsp;Though&nbsp;still&nbsp;in&nbsp;beta,&nbsp;SCIFIO&nbsp;is&nbsp;the&nbsp;core&nbsp;I/O&nbsp;mechanism&nbsp;of&nbsp;ImageJ2,&nbsp;which&nbsp;is&nbsp;finally&nbsp;due&nbsp;for&nbsp;release&nbsp;later&nbsp;this&nbsp;week.&nbsp;SCIFIO&nbsp;uses&nbsp;the&nbsp;SciJava&nbsp;plugin&nbsp;framework,&nbsp;meaning&nbsp;your&nbsp;writer&nbsp;would&nbsp;be&nbsp;automatically&nbsp;discovered&nbsp;and&nbsp;used&nbsp;as&nbsp;appropriate&nbsp;with&nbsp;no&nbsp;additional&nbsp;work&nbsp;from&nbsp;you.&nbsp;And&nbsp;we&nbsp;have&nbsp;recently&nbsp;integrated&nbsp;SCIFIO&nbsp;directly&nbsp;into&nbsp;ImageJ&nbsp;at&nbsp;the&nbsp;core&nbsp;level,&nbsp;so&nbsp;things&nbsp;like&nbsp;File&nbsp;&gt;&nbsp;Open&nbsp;now&nbsp;use&nbsp;it,&nbsp;including&nbsp;whatever&nbsp;format&nbsp;plugins&nbsp;are&nbsp;available.&nbsp;(SCIFIO&nbsp;also&nbsp;has&nbsp;a&nbsp;Bio-Formats&nbsp;format&nbsp;plugin,&nbsp;so&nbsp;that&nbsp;all&nbsp;of&nbsp;the&nbsp;BF&nbsp;formats&nbsp;work&nbsp;in&nbsp;ImageJ&nbsp;that&nbsp;way,&nbsp;too!)&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;could&nbsp;then&nbsp;serve&nbsp;your&nbsp;Imaris&nbsp;writer&nbsp;from&nbsp;its&nbsp;own&nbsp;ImageJ&nbsp;update&nbsp;site&nbsp;[4,&nbsp;5],&nbsp;to&nbsp;make&nbsp;it&nbsp;available&nbsp;to&nbsp;all&nbsp;ImageJ&nbsp;users.&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&gt;&nbsp;In&nbsp;addition,&nbsp;I&#39;ve&nbsp;convinced&nbsp;Bitplane&nbsp;to&nbsp;make&nbsp;their&nbsp;format&nbsp;open&nbsp;source,&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&gt;&nbsp;and&nbsp;I&nbsp;believe&nbsp;this&nbsp;may&nbsp;allow&nbsp;.ims&nbsp;files&nbsp;to&nbsp;grow&nbsp;beyond&nbsp;a&nbsp;proprietary&lt;/div&gt;&lt;div&gt;&gt;&nbsp;file&nbsp;format&nbsp;into&nbsp;a&nbsp;generalized&nbsp;multi-resolution&nbsp;format&nbsp;useful&nbsp;for&nbsp;a&lt;/div&gt;&lt;div&gt;&gt;&nbsp;variety&nbsp;of&nbsp;applications&nbsp;that&nbsp;deal&nbsp;with&nbsp;the&nbsp;visualization&nbsp;of&nbsp;extremely&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&gt;&nbsp;large&nbsp;stitched&nbsp;images.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Glad&nbsp;to&nbsp;hear&nbsp;that&nbsp;Bitplane&nbsp;is&nbsp;willing&nbsp;to&nbsp;do&nbsp;this.&nbsp;In&nbsp;that&nbsp;case,&nbsp;if&nbsp;you&nbsp;do&nbsp;complete&nbsp;a&nbsp;SCIFIO&nbsp;Imaris&nbsp;writer&nbsp;and&nbsp;want&nbsp;to&nbsp;donate&nbsp;the&nbsp;code&nbsp;upstream,&nbsp;you&nbsp;could&nbsp;file&nbsp;a&nbsp;pull&nbsp;request&nbsp;against&nbsp;the&nbsp;SCIFIO&nbsp;LifeSci&nbsp;project&nbsp;[6]&nbsp;to&nbsp;contribute&nbsp;it&nbsp;there,&nbsp;since&nbsp;that&nbsp;project&nbsp;houses&nbsp;readers&nbsp;&amp;&nbsp;writers&nbsp;for&nbsp;_open_&nbsp;life&nbsp;sciences&nbsp;formats.&nbsp;So&nbsp;if&nbsp;Bitplane&nbsp;publishes&nbsp;an&nbsp;open&nbsp;specification,&nbsp;we&nbsp;would&nbsp;be&nbsp;willing&nbsp;to&nbsp;add&nbsp;it&nbsp;to&nbsp;the&nbsp;project.&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;you&nbsp;have&nbsp;any&nbsp;questions&nbsp;about&nbsp;SCIFIO,&nbsp;please&nbsp;feel&nbsp;free&nbsp;to&nbsp;use&nbsp;the&nbsp;SCIFIO&nbsp;mailing&nbsp;list&nbsp;[7].&nbsp;Or&nbsp;if&nbsp;you&nbsp;go&nbsp;the&nbsp;Bio-Formats&nbsp;route,&nbsp;you&nbsp;can&nbsp;use&nbsp;ome-devel&nbsp;[8].&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
<br>
<br>
Curtis&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;http://loci.wisc.edu/software/scifio&quot;&nbsp;target=&quot;_blank&quot;&gt;http://loci.wisc.edu/software/scifio&lt;/a&gt;&lt;/div&gt;&lt;div&gt;[2]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio&lt;/a&gt;&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
&lt;div&gt;[3]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio-tutorials&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio-tutorials&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;[4] &lt;a&nbsp;href=&quot;http://wiki.imagej.net/Update_Sites&quot;&nbsp;target=&quot;_blank&quot;&gt;http://wiki.imagej.net/Update_Sites&lt;/a&gt;&lt;/div&gt;&lt;div&gt;[5] &lt;a&nbsp;href=&quot;http://wiki.imagej.net/List_of_update_sites&quot;&nbsp;target=&quot;_blank&quot;&gt;http://wiki.imagej.net/List_of_update_sites&lt;/a&gt;&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
&lt;div&gt;<br>
[6] &lt;a&nbsp;href=&quot;https://github.com/scifio/scifio-lifesci&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio-lifesci&lt;/a&gt;&lt;/div&gt;&lt;div&gt;[7] &lt;a&nbsp;href=&quot;http://scif.io/mailman/listinfo/scifio&quot;&nbsp;target=&quot;_blank&quot;&gt;http://scif.io/mailman/listinfo/scifio&lt;/a&gt;&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
&lt;div&gt;[8] &lt;a&nbsp;href=&quot;http://lists.openmicroscopy.org.uk/mailman/listinfo/ome-devel/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.openmicroscopy.org.uk/mailman/listinfo/ome-devel/&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;<br>
&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;May&nbsp;29,&nbsp;2014&nbsp;at&nbsp;6:55&nbsp;PM,&nbsp;Henry&nbsp;Pinkard&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:henry.pinkard@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;henry.pinkard@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Melissa&nbsp;and&nbsp;Curtis,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Over&nbsp;the&nbsp;past&nbsp;couple&nbsp;years,&nbsp;I&#39;ve&nbsp;been&nbsp;developing&nbsp;and&nbsp;testing&nbsp;a&nbsp;java&nbsp;library&nbsp;that&nbsp;is&nbsp;capable&nbsp;of&nbsp;writing&nbsp;Imaris&nbsp;.ims&nbsp;files.&nbsp;This&nbsp;library&nbsp;has&nbsp;allowed&nbsp;me&nbsp;to&nbsp;build&nbsp;an&nbsp;ImageJ&nbsp;plugin&nbsp;that&nbsp;automatically&nbsp;stitches,&nbsp;processes,&nbsp;and&nbsp;converts&nbsp;OME-TIFFs&nbsp;from&nbsp;Micro-Manager&nbsp;into&nbsp;Imaris&nbsp;files,&nbsp;which&nbsp;in&nbsp;turn&nbsp;allows&nbsp;a&nbsp;significantly&nbsp;greater&nbsp;throughput&nbsp;of&nbsp;imaging&nbsp;data&nbsp;with&nbsp;much&nbsp;less&nbsp;effort&nbsp;from&nbsp;users.&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;library&nbsp;has&nbsp;been&nbsp;instrumental&nbsp;to&nbsp;the&nbsp;workflow&nbsp;of&nbsp;users&nbsp;in&nbsp;the&nbsp;imaging&nbsp;center&nbsp;in&nbsp;which&nbsp;I&nbsp;work,&nbsp;and&nbsp;I&nbsp;want&nbsp;to&nbsp;find&nbsp;a&nbsp;way&nbsp;to&nbsp;share&nbsp;its&nbsp;utility&nbsp;with&nbsp;researchers&nbsp;everywhere.&nbsp;Incorporating&nbsp;it&nbsp;into&nbsp;the&nbsp;Bio-Formats&nbsp;exporter&nbsp;would&nbsp;both&nbsp;increase&nbsp;its&nbsp;visibility&nbsp;and&nbsp;leverage&nbsp;the&nbsp;multitude&nbsp;of&nbsp;formats&nbsp;on&nbsp;Bio-Formats&#39;&nbsp;front&nbsp;end&nbsp;to&nbsp;make&nbsp;it&nbsp;usable&nbsp;with&nbsp;all&nbsp;types&nbsp;of&nbsp;microscopy&nbsp;data.&nbsp;In&nbsp;addition,&nbsp;I&#39;ve&nbsp;convinced&nbsp;Bitplane&nbsp;to&nbsp;make&nbsp;their&nbsp;format&nbsp;open&nbsp;source,&nbsp;and&nbsp;I&nbsp;believe&nbsp;this&nbsp;may&nbsp;allow&nbsp;.ims&nbsp;files&nbsp;to&nbsp;grow&nbsp;beyond&nbsp;a&nbsp;proprietary&nbsp;file&nbsp;format&nbsp;into&nbsp;a&nbsp;generalized&nbsp;multi-resolution&nbsp;format&nbsp;useful&nbsp;for&nbsp;a&nbsp;variety&nbsp;of&nbsp;applications&nbsp;that&nbsp;deal&nbsp;with&nbsp;the&nbsp;visualization&nbsp;of&nbsp;extremely&nbsp;large&nbsp;stitched&nbsp;images.&nbsp;I&#39;m&nbsp;happy&nbsp;to&nbsp;rework&nbsp;the&nbsp;library&nbsp;in&nbsp;whatever&nbsp;ways&nbsp;make&nbsp;it&nbsp;easiest&nbsp;to&nbsp;incorporate&nbsp;on&nbsp;your&nbsp;end.&nbsp;Let&nbsp;me&nbsp;know&nbsp;your&nbsp;thoughts&nbsp;on&nbsp;how&nbsp;to&nbsp;best&nbsp;proceed.&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best,&lt;/div&gt;&lt;div&gt;Henry&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;_______________________________________________&lt;br&gt;<br>
SCIFIO&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:SCIFIO@scif.io&quot;&nbsp;target=&quot;_blank&quot;&gt;SCIFIO@scif.io&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://scif.io/mailman/listinfo/scifio&quot;&nbsp;target=&quot;_blank&quot;&gt;http://scif.io/mailman/listinfo/scifio&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Jan&nbsp;15,&nbsp;2015&nbsp;at&nbsp;4:21&nbsp;PM,&nbsp;Mark&nbsp;Hiner&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:hiner@wisc.edu&quot;&nbsp;target=&quot;_blank&quot;&gt;hiner@wisc.edu&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hi&nbsp;Henry,&lt;span&gt;&lt;br&gt;&lt;br&gt;&gt;&nbsp;Is&nbsp;it&nbsp;possible&nbsp;to&nbsp;include&nbsp;these&nbsp;binaries&nbsp;directly&nbsp;in&nbsp;the&nbsp;maven&nbsp;repository?&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;Not&nbsp;directly.&nbsp;But&nbsp;since&nbsp;their&nbsp;license&nbsp;allows&nbsp;them&nbsp;to&nbsp;be&nbsp;redistributed,&nbsp;I&nbsp;think&nbsp;what&nbsp;we&nbsp;want&nbsp;is&nbsp;to&nbsp;make&nbsp;NARs&nbsp;out&nbsp;of&nbsp;them[1]&nbsp;and&nbsp;put&nbsp;the&nbsp;NAR&nbsp;in&nbsp;the&nbsp;maven&nbsp;repository.&lt;br&gt;&lt;br&gt;&lt;/div&gt;However,&nbsp;there&nbsp;are&nbsp;almost&nbsp;certainly&nbsp;limitations&nbsp;right&nbsp;now.&nbsp;I&nbsp;personally&nbsp;do&nbsp;not&nbsp;have&nbsp;experience&nbsp;with&nbsp;the&nbsp;nar-maven-plugin,&nbsp;but&nbsp;I&nbsp;would&nbsp;go&nbsp;into&nbsp;it&nbsp;expecting&nbsp;some&nbsp;hurdles.&lt;br&gt;&lt;br&gt;&lt;/div&gt;On&nbsp;the&nbsp;other&nbsp;hand,&nbsp;I&nbsp;think&nbsp;your&nbsp;ImarisFormat&nbsp;is&nbsp;an&nbsp;awesome&nbsp;use&nbsp;case&nbsp;for&nbsp;the&nbsp;nar-maven-plugin&nbsp;and&nbsp;this&nbsp;is&nbsp;a&nbsp;great&nbsp;opportunity&nbsp;to&nbsp;work&nbsp;out&nbsp;problems&nbsp;and&nbsp;document&nbsp;NAR&nbsp;usage&nbsp;in&nbsp;SCIFIO/ImageJ2/Fiji!&nbsp;So&nbsp;I&#39;d&nbsp;be&nbsp;happy&nbsp;to&nbsp;help&nbsp;investigate&nbsp;further.&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;Also,&nbsp;it&#39;s&nbsp;worth&nbsp;noting&nbsp;the&nbsp;ImageJ&nbsp;wiki&nbsp;also&nbsp;has&nbsp;a&nbsp;higher-level&nbsp;discussion&nbsp;of&nbsp;using&nbsp;native&nbsp;code[2],&nbsp;though&nbsp;it&nbsp;is&nbsp;outdated&nbsp;(and&nbsp;doesn&#39;t&nbsp;discuss&nbsp;the&nbsp;nar-maven-plugin).&lt;span&gt;&lt;br&gt;&lt;br&gt;&gt;Actually,&nbsp;I&nbsp;think&nbsp;the&nbsp;SCIFIO&nbsp;tutorials&nbsp;described&nbsp;the&nbsp;flow&nbsp;quite&nbsp;well.&lt;span&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;that!&nbsp;I&nbsp;still&nbsp;felt&nbsp;the&nbsp;need&nbsp;to&nbsp;revise&nbsp;the&nbsp;format&nbsp;tutorial[3],&nbsp;as&nbsp;there&nbsp;were&nbsp;some&nbsp;basic&nbsp;elements&nbsp;that&nbsp;simply&nbsp;weren&#39;t&nbsp;discussed&nbsp;(like&nbsp;ColorTables).&lt;span&gt;&lt;br&gt;&lt;br&gt;&gt;The&nbsp;library&nbsp;that&nbsp;I&#39;m&nbsp;adding&nbsp;in&nbsp;to&nbsp;the&nbsp;ImarisFormat&nbsp;is&nbsp;only&nbsp;for&nbsp;writing&nbsp;<br>
IMS&nbsp;files&nbsp;and&nbsp;doesn&#39;t&nbsp;support&nbsp;reading&nbsp;them,&nbsp;so&nbsp;I&nbsp;opted&nbsp;to&nbsp;model&nbsp;this&nbsp;off<br>
&nbsp;of&nbsp;JavaFormat.&lt;br&gt;&gt;There&nbsp;are&nbsp;a&nbsp;few&nbsp;basic&nbsp;metadata&nbsp;fields&nbsp;needed&nbsp;for&nbsp;writing,&nbsp;but&nbsp;I&nbsp;didn&#39;t&nbsp;<br>
think&nbsp;it&nbsp;necessary&nbsp;to&nbsp;create&nbsp;a&nbsp;format-specific&nbsp;metadata&nbsp;class&nbsp;to&nbsp;hold&nbsp;<br>
them.&lt;br&gt;&gt;Since&nbsp;Imaris&nbsp;is&nbsp;a&nbsp;software&nbsp;for&nbsp;only&nbsp;analysis,&nbsp;no&nbsp;acquisition&nbsp;softwares&nbsp;save&nbsp;directly&nbsp;into&nbsp;IMS&nbsp;format.&lt;br&gt;&gt;So&nbsp;the&nbsp;most&nbsp;complete&nbsp;set&nbsp;of&nbsp;metadata&nbsp;will&nbsp;always&nbsp;reside&nbsp;in&nbsp;whatever&nbsp;format&nbsp;was&nbsp;used&nbsp;to&nbsp;create&nbsp;the&nbsp;IMS&nbsp;file.&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;makes&nbsp;a&nbsp;lot&nbsp;of&nbsp;sense&nbsp;-&nbsp;thank&nbsp;you&nbsp;for&nbsp;the&nbsp;explanation.&nbsp;I&nbsp;now&nbsp;think&nbsp;your&nbsp;decision&nbsp;not&nbsp;to&nbsp;have&nbsp;an&nbsp;ImarisFormat.Metadata&nbsp;class&nbsp;is&nbsp;correct&nbsp;-&nbsp;except&nbsp;for&nbsp;the&nbsp;fact&nbsp;that&nbsp;ImarisFormat&nbsp;has&nbsp;LUTs&nbsp;(see&nbsp;below).&lt;span&gt;&lt;br&gt;&lt;br&gt;&gt;I&nbsp;took&nbsp;a&nbsp;look&nbsp;at&nbsp;BMPFormat,&nbsp;and&nbsp;I&nbsp;think&nbsp;the&nbsp;color&nbsp;table&nbsp;here&nbsp;is&nbsp;being&nbsp;<br>
read&nbsp;from&nbsp;a&nbsp;BMP&nbsp;file&nbsp;and&nbsp;then&nbsp;stored&nbsp;in&nbsp;the&nbsp;BMP&nbsp;specific&nbsp;metadata,&nbsp;<br>
right?&nbsp;I&#39;m&nbsp;actually&nbsp;looking&nbsp;to&nbsp;do&nbsp;&lt;br&gt;&gt;the&nbsp;opposite--write&nbsp;an&nbsp;LUT&nbsp;into&nbsp;an&nbsp;<br>
IMS.&nbsp;So&nbsp;then&nbsp;I&nbsp;should&nbsp;use&nbsp;the&nbsp;one&nbsp;provided&nbsp;by&nbsp;the&nbsp;SCIFIO&nbsp;config&nbsp;method,&nbsp;<br>
right?&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;Sort&nbsp;of.&nbsp;I&nbsp;think&nbsp;the&nbsp;SCIFIOConfig&nbsp;and&nbsp;Writer.getColorModel&nbsp;API&nbsp;are&nbsp;incorrect&nbsp;to&nbsp;use&nbsp;java.awt.image.ColorModels.&nbsp;I&nbsp;opened&nbsp;a&nbsp;ticket[4]&nbsp;to&nbsp;update&nbsp;them&nbsp;to&nbsp;the&nbsp;ImgLib2&nbsp;ColorTable&nbsp;class.&nbsp;When&nbsp;that&nbsp;ticket&nbsp;is&nbsp;complete,&nbsp;this&nbsp;is&nbsp;how&nbsp;everything&nbsp;should&nbsp;work:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;*&nbsp;You&nbsp;should&nbsp;make&nbsp;an&nbsp;ImarisFormat.Metadata&nbsp;that&nbsp;is&nbsp;a&nbsp;trivial&nbsp;extension&nbsp;of&nbsp;DefaultMetadata,&nbsp;but&nbsp;implements&nbsp;the&nbsp;HasColorTable&nbsp;interface&lt;br&gt;&lt;/div&gt;&lt;div&gt;*&nbsp;When&nbsp;your&nbsp;Writer&nbsp;is&nbsp;passed&nbsp;a&nbsp;SCIFIOConfig&nbsp;with&nbsp;an&nbsp;attached&nbsp;ColorTable,&nbsp;the&nbsp;framework&nbsp;will&nbsp;pass&nbsp;the&nbsp;ColorTable&nbsp;to&nbsp;the&nbsp;Writer&#39;s&nbsp;ImarisFormat.Metadata&lt;br&gt;&lt;/div&gt;&lt;div&gt;*&nbsp;In&nbsp;your&nbsp;Writer&#39;s&nbsp;writePlane&nbsp;implementation,&nbsp;you&nbsp;would&nbsp;check&nbsp;for&nbsp;a&nbsp;ColorTable&nbsp;on&nbsp;a)&nbsp;the&nbsp;provided&nbsp;Plane&nbsp;and&nbsp;b)&nbsp;the&nbsp;attached&nbsp;Metadata&nbsp;and&nbsp;write&nbsp;it&nbsp;out&nbsp;as&nbsp;appropriate.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;asking&nbsp;the&nbsp;Plane&nbsp;for&nbsp;its&nbsp;ColorTable&nbsp;was&nbsp;the&nbsp;right&nbsp;thing&nbsp;to&nbsp;do.&lt;br&gt;&lt;br&gt;The&nbsp;fact&nbsp;that&nbsp;the&nbsp;ColorTable&nbsp;isn&#39;t&nbsp;being&nbsp;transferred&nbsp;from&nbsp;your&nbsp;original&nbsp;TIFF&nbsp;dataset&nbsp;is&nbsp;likely&nbsp;a&nbsp;bug.&nbsp;I&#39;m&nbsp;not&nbsp;sure&nbsp;if&nbsp;it&nbsp;wasn&#39;t&nbsp;read&nbsp;properly&nbsp;on&nbsp;the&nbsp;TIFF&nbsp;side,&nbsp;or&nbsp;if&nbsp;it&nbsp;was&nbsp;read&nbsp;but&nbsp;didn&#39;t&nbsp;get&nbsp;passed&nbsp;to&nbsp;your&nbsp;ImarisFormat.Writer.&nbsp;Could&nbsp;you&nbsp;share&nbsp;your&nbsp;failing&nbsp;TIFF&nbsp;dataset&nbsp;so&nbsp;I&nbsp;can&nbsp;debug&nbsp;a&nbsp;bit&nbsp;more&nbsp;and&nbsp;figure&nbsp;out&nbsp;where&nbsp;it&#39;s&nbsp;going&nbsp;wrong?&nbsp;(note&nbsp;that&nbsp;you&nbsp;can&nbsp;use&nbsp;Fiji&nbsp;to&nbsp;upload&nbsp;a&nbsp;dataset[5]&nbsp;so&nbsp;that&nbsp;it&nbsp;won&#39;t&nbsp;be&nbsp;shared&nbsp;publicly)&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Looking&nbsp;forward&nbsp;to&nbsp;getting&nbsp;this&nbsp;working&nbsp;for&nbsp;you&nbsp;-&nbsp;thanks&nbsp;again!&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best,&lt;br&gt;Mark&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;http://maven-nar.github.io/index.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://maven-nar.github.io/index.html&lt;/a&gt;&lt;br&gt;[2]&nbsp;&lt;a&nbsp;href=&quot;http://imagej.net/Native&quot;&nbsp;target=&quot;_blank&quot;&gt;http://imagej.net/Native&lt;/a&gt;&lt;br&gt;[3]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio-tutorials/commit/5780247e65b0671f1b0e4bba744bde7661114531&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio-tutorials/commit/5780247e65b0671f1b0e4bba744bde7661114531&lt;/a&gt;&lt;br&gt;[4]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/issues/239&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/issues/239&lt;/a&gt;&lt;br&gt;[5]&nbsp;&lt;a&nbsp;href=&quot;http://imagej.net/Upload_Sample_Image&quot;&nbsp;target=&quot;_blank&quot;&gt;http://imagej.net/Upload_Sample_Image&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Jan&nbsp;15,&nbsp;2015&nbsp;at&nbsp;11:07&nbsp;AM,&nbsp;Henry&nbsp;Pinkard&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:henry.pinkard@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;henry.pinkard@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Mark,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;the&nbsp;quick&nbsp;reply!&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;span&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;1)&nbsp;Curtis&nbsp;knows&nbsp;this&nbsp;topic&nbsp;better&nbsp;than&nbsp;me,&nbsp;but&nbsp;I&nbsp;believe&nbsp;you&nbsp;can&nbsp;use&nbsp;the&nbsp;Maven&nbsp;NAR&nbsp;plugin[1]&nbsp;to&nbsp;build&nbsp;native&nbsp;code&nbsp;archives&nbsp;(.nar)&nbsp;which&nbsp;then&nbsp;can&nbsp;be&nbsp;distributed&nbsp;via&nbsp;a&nbsp;maven&nbsp;repository,&nbsp;such&nbsp;as&nbsp;our&nbsp;&lt;a&nbsp;href=&quot;http://maven.imagej.net&quot;&nbsp;target=&quot;_blank&quot;&gt;http://maven.imagej.net&lt;/a&gt;,&nbsp;and&nbsp;consumed&nbsp;as&nbsp;a&nbsp;normal&nbsp;Maven&nbsp;dependency&nbsp;by&nbsp;your&nbsp;writer.&nbsp;How&nbsp;is&nbsp;the&nbsp;native&nbsp;code&nbsp;you&#39;re&nbsp;using&nbsp;licensed? &lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;I&nbsp;don&#39;t&nbsp;actually&nbsp;need&nbsp;to&nbsp;build&nbsp;the&nbsp;native&nbsp;archives.&nbsp;They&nbsp;are&nbsp;distributed&nbsp;as&nbsp;pre&nbsp;built&nbsp;binaries&nbsp;on&nbsp;the&nbsp;HDF&nbsp;website.&nbsp;Is&nbsp;it&nbsp;possible&nbsp;to&nbsp;include&nbsp;these&nbsp;binaries&nbsp;directly&nbsp;in&nbsp;the&nbsp;maven&nbsp;repository?&nbsp;The&nbsp;license&nbsp;is&nbsp;a&nbsp;&quot;BSD&nbsp;style&nbsp;open-source&nbsp;license.&quot;&nbsp;More&nbsp;info&nbsp;can&nbsp;be&nbsp;found&nbsp;at: &lt;a&nbsp;href=&quot;http://www.hdfgroup.org/products/licenses.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.hdfgroup.org/products/licenses.html&lt;/a&gt;&lt;/div&gt;&lt;span&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;2)&nbsp;You&#39;re&nbsp;absolutely&nbsp;right,&nbsp;AbstractWriter&nbsp;is&nbsp;provided&nbsp;to&nbsp;take&nbsp;care&nbsp;of&nbsp;as&nbsp;much&nbsp;boilerplate&nbsp;as&nbsp;possible,&nbsp;to&nbsp;try&nbsp;and&nbsp;keep&nbsp;what&nbsp;developers&nbsp;like&nbsp;you&nbsp;have&nbsp;to&nbsp;implement&nbsp;to&nbsp;a&nbsp;minimum.&nbsp;We&nbsp;avoid&nbsp;using&nbsp;public/protected&nbsp;fields&nbsp;in&nbsp;our&nbsp;libraries&nbsp;because&nbsp;of&nbsp;the&nbsp;problems&nbsp;they&nbsp;create,&nbsp;given&nbsp;that&nbsp;there&nbsp;is&nbsp;no&nbsp;way&nbsp;to&nbsp;respond&nbsp;when&nbsp;such&nbsp;fields&nbsp;are&nbsp;directly&nbsp;modified.&nbsp;The&nbsp;way&nbsp;to&nbsp;access&nbsp;these&nbsp;fields&nbsp;should&nbsp;be&nbsp;accessor/mutator&nbsp;methods&nbsp;(e.g.&nbsp;getMetadata(),&nbsp;isInitialized(...),&nbsp;etc...),&nbsp;with&nbsp;the&nbsp;expectation&nbsp;that&nbsp;they&nbsp;can&nbsp;be&nbsp;overridden&nbsp;if&nbsp;necessary.&nbsp;Since&nbsp;it&nbsp;feels&nbsp;like&nbsp;you&#39;re&nbsp;overriding&nbsp;too&nbsp;many&nbsp;of&nbsp;these,&nbsp;though,&nbsp;could&nbsp;you&nbsp;provide&nbsp;some&nbsp;more&nbsp;information&nbsp;about&nbsp;what&nbsp;functionality&nbsp;you&nbsp;needed&nbsp;to&nbsp;add/modify?&nbsp;If&nbsp;the&nbsp;API&nbsp;is&nbsp;lacking,&nbsp;my&nbsp;first&nbsp;choice&nbsp;would&nbsp;be&nbsp;to&nbsp;improve&nbsp;AbstractWriter&nbsp;so&nbsp;that&nbsp;it&nbsp;better&nbsp;meets&nbsp;your&nbsp;needs&nbsp;(and&nbsp;those&nbsp;of&nbsp;future&nbsp;developers!).&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;As&nbsp;I&nbsp;look&nbsp;over&nbsp;this&nbsp;again,&nbsp;I&nbsp;think&nbsp;that&nbsp;this&nbsp;writer&nbsp;is&nbsp;probably&nbsp;an&nbsp;exception&nbsp;that&nbsp;operates&nbsp;by&nbsp;different&nbsp;mechanisms&nbsp;than&nbsp;most&nbsp;Formats,&nbsp;and&nbsp;probably&nbsp;doesn&#39;t&nbsp;warrant&nbsp;a&nbsp;change&nbsp;in&nbsp;the&nbsp;API.&nbsp;more&nbsp;on&nbsp;this&nbsp;below.&lt;/div&gt;&lt;span&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;3)&nbsp;So,&nbsp;what&nbsp;you&nbsp;most&nbsp;likely&nbsp;want&nbsp;to&nbsp;do&nbsp;here&nbsp;is&nbsp;implement&nbsp;your&nbsp;own&nbsp;Metadata&nbsp;class&nbsp;for&nbsp;the&nbsp;ImarisFormat.&nbsp;DefaultMetadata&nbsp;was&nbsp;created&nbsp;as&nbsp;a&nbsp;dummy&nbsp;class&nbsp;to&nbsp;provide&nbsp;some&nbsp;minimal&nbsp;default&nbsp;implementation&nbsp;for&nbsp;formats&nbsp;that&nbsp;simply&nbsp;don&#39;t&nbsp;have&nbsp;any&nbsp;metadata&nbsp;to&nbsp;store&nbsp;(e.g.&nbsp;the&nbsp;JavaFormat,&nbsp;which&nbsp;only&nbsp;writes&nbsp;images).&nbsp;If&nbsp;you&nbsp;use&nbsp;DefaultMetadata,&nbsp;your&nbsp;Format&nbsp;should&nbsp;still&nbsp;work&nbsp;-&nbsp;but&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;convert&nbsp;an&nbsp;ImarisFormat&nbsp;image&nbsp;to&nbsp;something&nbsp;else&nbsp;(such&nbsp;as&nbsp;an&nbsp;.ome.tif)&nbsp;you&nbsp;may&nbsp;be&nbsp;missing&nbsp;the&nbsp;opportunity&nbsp;to&nbsp;preserve&nbsp;any&nbsp;Imaris-specific&nbsp;metadata.&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;think&nbsp;this&nbsp;flow&nbsp;was&nbsp;not&nbsp;properly&nbsp;described&nbsp;in&nbsp;SCIFIO.&nbsp;To&nbsp;take&nbsp;a&nbsp;step&nbsp;towards&nbsp;improvement,&nbsp;I&nbsp;updated&nbsp;the&nbsp;custom&nbsp;format&nbsp;tutorial[2]&nbsp;to&nbsp;better&nbsp;explain&nbsp;the&nbsp;role&nbsp;of&nbsp;format-specific&nbsp;metadata.&lt;br&gt;&lt;br&gt;As&nbsp;to&nbsp;the&nbsp;actual&nbsp;LUT&nbsp;question,&nbsp;I&nbsp;suggest&nbsp;modeling&nbsp;the&nbsp;ImarisFormat&nbsp;after&nbsp;a&nbsp;simple&nbsp;format&nbsp;that&nbsp;has&nbsp;a&nbsp;LUT&nbsp;-&nbsp;such&nbsp;as&nbsp;BMPFormat[3].&nbsp;You&nbsp;can&nbsp;see&nbsp;that&nbsp;the&nbsp;BMPFormat&#39;s&nbsp;metadata&nbsp;implements&nbsp;a&nbsp;HasColorTable&nbsp;interface[4].&nbsp;It&nbsp;is&nbsp;then&nbsp;the&nbsp;role&nbsp;of&nbsp;the&nbsp;Parser&nbsp;to&nbsp;populate&nbsp;the&nbsp;metadata&#39;s&nbsp;color&nbsp;table[5].&nbsp;Then&nbsp;it&nbsp;is&nbsp;the&nbsp;role&nbsp;of&nbsp;the&nbsp;Reader&nbsp;to&nbsp;attach&nbsp;the&nbsp;color&nbsp;table&nbsp;to&nbsp;a&nbsp;plane[6].&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;SCIFIOConfig&nbsp;method&nbsp;you&nbsp;mentioned[7]&nbsp;is&nbsp;for&nbsp;external&nbsp;software&nbsp;to&nbsp;set&nbsp;a&nbsp;custom&nbsp;LUT&nbsp;when&nbsp;saving&nbsp;an&nbsp;image.&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;Actually,&nbsp;I&nbsp;think&nbsp;the&nbsp;SCIFIO&nbsp;tutorials&nbsp;described&nbsp;the&nbsp;flow&nbsp;quite&nbsp;well.&nbsp;The&nbsp;library&nbsp;that&nbsp;I&#39;m&nbsp;adding&nbsp;in&nbsp;to&nbsp;the&nbsp;ImarisFormat&nbsp;is&nbsp;only&nbsp;for&nbsp;writing&nbsp;IMS&nbsp;files&nbsp;and&nbsp;doesn&#39;t&nbsp;support&nbsp;reading&nbsp;them,&nbsp;so&nbsp;I&nbsp;opted&nbsp;to&nbsp;model&nbsp;this&nbsp;off&nbsp;of&nbsp;JavaFormat.&nbsp;There&nbsp;are&nbsp;a&nbsp;few&nbsp;basic&nbsp;metadata&nbsp;fields&nbsp;needed&nbsp;for&nbsp;writing,&nbsp;but&nbsp;I&nbsp;didn&#39;t&nbsp;think&nbsp;it&nbsp;necessary&nbsp;to&nbsp;create&nbsp;a&nbsp;format-specific&nbsp;metadata&nbsp;class&nbsp;to&nbsp;hold&nbsp;them.&nbsp;Since&nbsp;Imaris&nbsp;is&nbsp;a&nbsp;software&nbsp;for&nbsp;only&nbsp;analysis,&nbsp;no&nbsp;acquisition&nbsp;softwares&nbsp;save&nbsp;directly&nbsp;into&nbsp;IMS&nbsp;format.&nbsp;So&nbsp;the&nbsp;most&nbsp;complete&nbsp;set&nbsp;of&nbsp;metadata&nbsp;will&nbsp;always&nbsp;reside&nbsp;in&nbsp;whatever&nbsp;format&nbsp;was&nbsp;used&nbsp;to&nbsp;create&nbsp;the&nbsp;IMS&nbsp;file.&nbsp;If&nbsp;you&nbsp;think&nbsp;it&nbsp;would&nbsp;be&nbsp;better&nbsp;to&nbsp;create&nbsp;an&nbsp;ImarisFormat.Metadata&nbsp;class,&nbsp;I&#39;m&nbsp;happy&nbsp;to&nbsp;do&nbsp;so,&nbsp;but&nbsp;I&nbsp;don&#39;t&nbsp;think&nbsp;it&nbsp;would&nbsp;affect&nbsp;the&nbsp;functionality&nbsp;of&nbsp;the&nbsp;format. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;took&nbsp;a&nbsp;look&nbsp;at&nbsp;BMPFormat,&nbsp;and&nbsp;I&nbsp;think&nbsp;the&nbsp;color&nbsp;table&nbsp;here&nbsp;is&nbsp;being&nbsp;read&nbsp;from&nbsp;a&nbsp;BMP&nbsp;file&nbsp;and&nbsp;then&nbsp;stored&nbsp;in&nbsp;the&nbsp;BMP&nbsp;specific&nbsp;metadata,&nbsp;right?&nbsp;I&#39;m&nbsp;actually&nbsp;looking&nbsp;to&nbsp;do&nbsp;the&nbsp;opposite--write&nbsp;an&nbsp;LUT&nbsp;into&nbsp;an&nbsp;IMS.&nbsp;So&nbsp;then&nbsp;I&nbsp;should&nbsp;use&nbsp;the&nbsp;one&nbsp;provided&nbsp;by&nbsp;the&nbsp;SCIFIO&nbsp;config&nbsp;method,&nbsp;right?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;How&nbsp;about&nbsp;date/time&nbsp;stamps?&nbsp;Is&nbsp;there&nbsp;any&nbsp;way&nbsp;to&nbsp;extract&nbsp;this&nbsp;from&nbsp;default&nbsp;metadata&nbsp;classes&nbsp;or&nbsp;does&nbsp;it&nbsp;need&nbsp;to&nbsp;be&nbsp;done&nbsp;in&nbsp;a&nbsp;metadata&nbsp;format-specific&nbsp;manner?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best,&lt;/div&gt;&lt;div&gt;Henry&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/maven-nar/nar-maven-plugin&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/maven-nar/nar-maven-plugin&lt;/a&gt;&lt;br&gt;[2]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio-tutorials/blob/5f9212a685c18ddc0cb4500e7ac4a3f1aad1940b/core/src/main/java/io/scif/tutorials/core/T3aCustomFormats.java#L123-133&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio-tutorials/blob/5f9212a685c18ddc0cb4500e7ac4a3f1aad1940b/core/src/main/java/io/scif/tutorials/core/T3aCustomFormats.java#L123-133&lt;/a&gt;&lt;br&gt;[3]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/formats/BMPFormat.java&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/formats/BMPFormat.java&lt;/a&gt;&lt;br&gt;[4]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/formats/BMPFormat.java#L90-91&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/formats/BMPFormat.java#L90-91&lt;/a&gt;&lt;br&gt;[5]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/formats/BMPFormat.java#L283-292&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/formats/BMPFormat.java#L283-292&lt;/a&gt;&lt;br&gt;[6]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/formats/BMPFormat.java#L399-400&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/formats/BMPFormat.java#L399-400&lt;/a&gt;&lt;br&gt;[7]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/config/SCIFIOConfig.java#L264-271&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/37822206e9ca842bb18596ef0f0312ad3f2e6d5f/src/main/java/io/scif/config/SCIFIOConfig.java#L264-271&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Wed,&nbsp;Jan&nbsp;14,&nbsp;2015&nbsp;at&nbsp;3:28&nbsp;PM,&nbsp;Henry&nbsp;Pinkard&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:henry.pinkard@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;henry.pinkard@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hi&nbsp;Curtis&nbsp;and&nbsp;Mark,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Finally&nbsp;back&nbsp;to&nbsp;work&nbsp;on&nbsp;this&nbsp;project.&nbsp;I&#39;ve&nbsp;created&nbsp;an&nbsp;ImarisFormat&nbsp;class&nbsp;in&nbsp;my&nbsp;local&nbsp;copy&nbsp;of&nbsp;SCIFIO&nbsp;and&nbsp;have&nbsp;gotten&nbsp;a&nbsp;basic&nbsp;version&nbsp;of&nbsp;ImarisFormat.Writer&nbsp;working.&nbsp;Several&nbsp;questions&nbsp;regarding&nbsp;this:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1)&nbsp;Since&nbsp;.ims&nbsp;files&nbsp;are&nbsp;a&nbsp;specific&nbsp;type&nbsp;of&nbsp;HDF5&nbsp;file,&nbsp;I&#39;m&nbsp;utilizing&nbsp;the&nbsp;HDF&nbsp;Java&nbsp;library&nbsp;to&nbsp;do&nbsp;the&nbsp;writing.&nbsp;Maven&nbsp;is&nbsp;able&nbsp;to&nbsp;record&nbsp;a&nbsp;dependency&nbsp;for&nbsp;the&nbsp;.jar&nbsp;file&nbsp;needed&nbsp;by&nbsp;this&nbsp;library,&nbsp;but&nbsp;I&#39;m&nbsp;not&nbsp;sure&nbsp;how&nbsp;to&nbsp;indicate&nbsp;a&nbsp;dependency&nbsp;on&nbsp;the&nbsp;the&nbsp;native&nbsp;files&nbsp;that&nbsp;the&nbsp;library&nbsp;uses&nbsp;through&nbsp;the&nbsp;JNI.&nbsp;For&nbsp;testing&nbsp;purposes&nbsp;I&nbsp;just&nbsp;copied&nbsp;these&nbsp;libraries&nbsp;into&nbsp;the&nbsp;SCIFIO&nbsp;root&nbsp;directory,&nbsp;but&nbsp;this&nbsp;is&nbsp;obviously&nbsp;not&nbsp;a&nbsp;solution.&nbsp;I&nbsp;assume&nbsp;that&nbsp;there&nbsp;is&nbsp;an&nbsp;elegant&nbsp;way&nbsp;of&nbsp;doing&nbsp;this,&nbsp;since&nbsp;the&nbsp;BioFormats&nbsp;Imaris&nbsp;reader&nbsp;is&nbsp;able&nbsp;to&nbsp;read&nbsp;these&nbsp;files.&nbsp;Any&nbsp;thoughts?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2)&nbsp;I&#39;m&nbsp;unsure&nbsp;whether&nbsp;to&nbsp;have&nbsp;the&nbsp;writer&nbsp;extend&nbsp;AbstractWriter&nbsp;or&nbsp;simply&nbsp;implement&nbsp;TypedWrtier.&nbsp;I&nbsp;would&nbsp;think&nbsp;that&nbsp;AbstractWriter&nbsp;is&nbsp;provided&nbsp;as&nbsp;a&nbsp;stub&nbsp;to&nbsp;easily&nbsp;extend&nbsp;when&nbsp;making&nbsp;writer&nbsp;classes,&nbsp;but&nbsp;the&nbsp;private&nbsp;access&nbsp;to&nbsp;all&nbsp;of&nbsp;this&nbsp;classes&nbsp;field&#39;s&nbsp;(metadata,&nbsp;initialized,&nbsp;etc.)&nbsp;mean&nbsp;that&nbsp;I&nbsp;have&nbsp;to&nbsp;extend&nbsp;many&nbsp;more&nbsp;methods&nbsp;than&nbsp;I&nbsp;would&nbsp;like.&nbsp;Could&nbsp;these&nbsp;fields&nbsp;be&nbsp;made&nbsp;protected,&nbsp;or&nbsp;should&nbsp;I&nbsp;switch&nbsp;to&nbsp;TypedWriter&nbsp;and&nbsp;have&nbsp;a&nbsp;lot&nbsp;of&nbsp;empty,&nbsp;irrelevant&nbsp;methods?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;3)&nbsp;I&#39;m&nbsp;able&nbsp;to&nbsp;pull&nbsp;all&nbsp;the&nbsp;metadata&nbsp;required&nbsp;for&nbsp;writing&nbsp;these&nbsp;files&nbsp;from&nbsp;DefaultMetadata&nbsp;and&nbsp;DefaultImageMetadata,&nbsp;with&nbsp;the&nbsp;exception&nbsp;of&nbsp;two&nbsp;things.&nbsp;First,&nbsp;is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;acquisition&nbsp;date&nbsp;and&nbsp;timestamps&nbsp;form&nbsp;individual&nbsp;planes?&nbsp;Second,&nbsp;the config.writerGetColorModel()&nbsp;call&nbsp;that&nbsp;I&nbsp;copied&nbsp;from&nbsp;AbstractWriter&nbsp;returns&nbsp;null,&nbsp;as&nbsp;does&nbsp;plane.getColorTable().&nbsp;Is&nbsp;there&nbsp;some&nbsp;other&nbsp;way&nbsp;to&nbsp;get&nbsp;image&nbsp;lookup&nbsp;tables?&nbsp;My&nbsp;test&nbsp;code&nbsp;opens&nbsp;a&nbsp;Tiff&nbsp;stack&nbsp;saved&nbsp;by&nbsp;FIJI&nbsp;that&nbsp;has&nbsp;LUTs&nbsp;applied,&nbsp;so&nbsp;I&nbsp;would&nbsp;think&nbsp;they&nbsp;would&nbsp;be&nbsp;there.&nbsp;Is&nbsp;there&nbsp;another&nbsp;mechanism&nbsp;for&nbsp;getting&nbsp;image&nbsp;LUTs?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Excited&nbsp;to&nbsp;see&nbsp;this&nbsp;writer&nbsp;become&nbsp;part&nbsp;of&nbsp;SCIFIO&nbsp;in&nbsp;the&nbsp;near&nbsp;future.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best,&lt;/div&gt;&lt;div&gt;Henry&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Jul&nbsp;16,&nbsp;2014&nbsp;at&nbsp;4:32&nbsp;PM,&nbsp;Curtis&nbsp;Rueden&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:ctrueden@wisc.edu&quot;&nbsp;target=&quot;_blank&quot;&gt;ctrueden@wisc.edu&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Henry,&lt;span&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&gt;&nbsp;I&#39;ve&nbsp;created&nbsp;a&nbsp;class&nbsp;in&nbsp;the&nbsp;io.scif.formats&nbsp;package&nbsp;for&nbsp;my&nbsp;writer.&lt;/div&gt;&lt;div&gt;&gt;&nbsp;Since&nbsp;I&nbsp;only&nbsp;have&nbsp;the&nbsp;writer&nbsp;components,&nbsp;but&nbsp;not&nbsp;the&nbsp;reader,&nbsp;how&lt;/div&gt;&lt;div&gt;&gt;&nbsp;should&nbsp;I&nbsp;go&nbsp;about&nbsp;implementing&nbsp;all&nbsp;of&nbsp;the&nbsp;component&nbsp;classes&nbsp;of&nbsp;Format&lt;/div&gt;<br>
<br>
&lt;div&gt;&gt;&nbsp;(Metadata,&nbsp;Parser,&nbsp;Checker,&nbsp;Reader,&nbsp;Writer,&nbsp;Translator).&nbsp;The&nbsp;first&nbsp;4&lt;/div&gt;&lt;div&gt;&gt;&nbsp;are&nbsp;listed&nbsp;as&nbsp;mandatory&nbsp;in&nbsp;the&nbsp;tutorial,&nbsp;but&nbsp;it&nbsp;seems&nbsp;like&nbsp;I&nbsp;shouldn&#39;t&lt;/div&gt;&lt;div&gt;&gt;&nbsp;need&nbsp;all&nbsp;of&nbsp;them&nbsp;for&nbsp;writing&nbsp;functionality&nbsp;alone.&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;Agreed,&nbsp;it&nbsp;should&nbsp;not&nbsp;be&nbsp;necessary&nbsp;to&nbsp;create&nbsp;Reader&nbsp;or&nbsp;Parser&nbsp;components.&nbsp;However,&nbsp;writer-only&nbsp;components&nbsp;are&nbsp;still&nbsp;a&nbsp;little&nbsp;rough&nbsp;around&nbsp;the&nbsp;edges.&nbsp;The&nbsp;relevant&nbsp;issue&nbsp;is:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/issues/211&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/issues/211&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Feel&nbsp;free&nbsp;to&nbsp;comment&nbsp;on&nbsp;that&nbsp;so&nbsp;that&nbsp;GitHub&nbsp;sends&nbsp;you&nbsp;updates&nbsp;if&nbsp;you&nbsp;care&nbsp;about&nbsp;progress&nbsp;on&nbsp;it.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;in&nbsp;the&nbsp;meantime,&nbsp;it&nbsp;should&nbsp;still&nbsp;be&nbsp;possible&nbsp;to&nbsp;create&nbsp;a&nbsp;writer-only&nbsp;component.&nbsp;For&nbsp;an&nbsp;example,&nbsp;see&nbsp;the&nbsp;JavaFormat:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/scifio-0.15.4/scifio/src/main/java/io/scif/formats/JavaFormat.java&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/scifio-0.15.4/scifio/src/main/java/io/scif/formats/JavaFormat.java&lt;/a&gt;&lt;br&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;Curtis&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Jun&nbsp;25,&nbsp;2014&nbsp;at&nbsp;1:21&nbsp;PM,&nbsp;Henry&nbsp;Pinkard&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:henry.pinkard@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;henry.pinkard@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Curtis,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;all&nbsp;sounds&nbsp;great.&nbsp;I&#39;ve&nbsp;cloned&nbsp;the&nbsp;SCIFIO&nbsp;core&nbsp;as&nbsp;well&nbsp;as&nbsp;the&nbsp;tutorials,&nbsp;which&nbsp;have&nbsp;been&nbsp;quite&nbsp;helpful&nbsp;in&nbsp;getting&nbsp;things&nbsp;set&nbsp;up. &lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;ve&nbsp;created&nbsp;a&nbsp;class&nbsp;in&nbsp;the&nbsp;io.scif.formats&nbsp;package&nbsp;for&nbsp;my&nbsp;writer.&nbsp;Since&nbsp;I&nbsp;only&nbsp;have&nbsp;the&nbsp;writer&nbsp;components,&nbsp;but&nbsp;not&nbsp;the&nbsp;reader,&nbsp;how&nbsp;should&nbsp;I&nbsp;go&nbsp;about&nbsp;implementing&nbsp;all&nbsp;of&nbsp;the&nbsp;component&nbsp;classes&nbsp;of&nbsp;Format&nbsp;(Metadata,&nbsp;Parser,&nbsp;Checker,&nbsp;Reader,&nbsp;Writer,&nbsp;Translator).&nbsp;The&nbsp;first&nbsp;4&nbsp;are&nbsp;listed&nbsp;as&nbsp;mandatory&nbsp;in&nbsp;the&nbsp;tutorial,&nbsp;but&nbsp;it&nbsp;seems&nbsp;like&nbsp;I&nbsp;shouldn&#39;t&nbsp;need&nbsp;all&nbsp;of&nbsp;them&nbsp;for&nbsp;writing&nbsp;functionality&nbsp;alone.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best,&lt;/div&gt;&lt;div&gt;Henry&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sun,&nbsp;Jun&nbsp;1,&nbsp;2014&nbsp;at&nbsp;7:27&nbsp;AM,&nbsp;Curtis&nbsp;Rueden&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:ctrueden@wisc.edu&quot;&nbsp;target=&quot;_blank&quot;&gt;ctrueden@wisc.edu&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Henry,&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&gt;&nbsp;Over&nbsp;the&nbsp;past&nbsp;couple&nbsp;years,&nbsp;I&#39;ve&nbsp;been&nbsp;developing&nbsp;and&nbsp;testing&nbsp;a&nbsp;java&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&gt;&nbsp;library&nbsp;that&nbsp;is&nbsp;capable&nbsp;of&nbsp;writing&nbsp;Imaris&nbsp;.ims&nbsp;files.&nbsp;This&nbsp;library&nbsp;has&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
&gt;&nbsp;allowed&nbsp;me&nbsp;to&nbsp;build&nbsp;an&nbsp;ImageJ&nbsp;plugin&nbsp;that&nbsp;automatically&nbsp;stitches,&lt;/div&gt;&lt;div&gt;&gt;&nbsp;processes,&nbsp;and&nbsp;converts&nbsp;OME-TIFFs&nbsp;from&nbsp;Micro-Manager&nbsp;into&nbsp;Imaris&lt;/div&gt;&lt;div&gt;&gt;&nbsp;files,&nbsp;which&nbsp;in&nbsp;turn&nbsp;allows&nbsp;a&nbsp;significantly&nbsp;greater&nbsp;throughput&nbsp;of&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&gt;&nbsp;imaging&nbsp;data&nbsp;with&nbsp;much&nbsp;less&nbsp;effort&nbsp;from&nbsp;users.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Sounds&nbsp;great!&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&gt;&nbsp;This&nbsp;library&nbsp;has&nbsp;been&nbsp;instrumental&nbsp;to&nbsp;the&nbsp;workflow&nbsp;of&nbsp;users&nbsp;in&nbsp;the&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&gt;&nbsp;imaging&nbsp;center&nbsp;in&nbsp;which&nbsp;I&nbsp;work,&nbsp;and&nbsp;I&nbsp;want&nbsp;to&nbsp;find&nbsp;a&nbsp;way&nbsp;to&nbsp;share&nbsp;its&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&gt;&nbsp;utility&nbsp;with&nbsp;researchers&nbsp;everywhere.&nbsp;Incorporating&nbsp;it&nbsp;into&nbsp;the&lt;/div&gt;&lt;div&gt;&gt;&nbsp;Bio-Formats&nbsp;exporter&nbsp;would&nbsp;both&nbsp;increase&nbsp;its&nbsp;visibility&nbsp;and&nbsp;leverage&lt;/div&gt;&lt;div&gt;&gt;&nbsp;the&nbsp;multitude&nbsp;of&nbsp;formats&nbsp;on&nbsp;Bio-Formats&#39;&nbsp;front&nbsp;end&nbsp;to&nbsp;make&nbsp;it&nbsp;usable&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&gt;&nbsp;with&nbsp;all&nbsp;types&nbsp;of&nbsp;microscopy&nbsp;data.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Rather&nbsp;than&nbsp;implementing&nbsp;a&nbsp;Bio-Formats&nbsp;writer,&nbsp;I&nbsp;encourage&nbsp;you&nbsp;to&nbsp;check&nbsp;out&nbsp;SCIFIO&nbsp;[1,&nbsp;2,&nbsp;3].&nbsp;Though&nbsp;still&nbsp;in&nbsp;beta,&nbsp;SCIFIO&nbsp;is&nbsp;the&nbsp;core&nbsp;I/O&nbsp;mechanism&nbsp;of&nbsp;ImageJ2,&nbsp;which&nbsp;is&nbsp;finally&nbsp;due&nbsp;for&nbsp;release&nbsp;later&nbsp;this&nbsp;week.&nbsp;SCIFIO&nbsp;uses&nbsp;the&nbsp;SciJava&nbsp;plugin&nbsp;framework,&nbsp;meaning&nbsp;your&nbsp;writer&nbsp;would&nbsp;be&nbsp;automatically&nbsp;discovered&nbsp;and&nbsp;used&nbsp;as&nbsp;appropriate&nbsp;with&nbsp;no&nbsp;additional&nbsp;work&nbsp;from&nbsp;you.&nbsp;And&nbsp;we&nbsp;have&nbsp;recently&nbsp;integrated&nbsp;SCIFIO&nbsp;directly&nbsp;into&nbsp;ImageJ&nbsp;at&nbsp;the&nbsp;core&nbsp;level,&nbsp;so&nbsp;things&nbsp;like&nbsp;File&nbsp;&gt;&nbsp;Open&nbsp;now&nbsp;use&nbsp;it,&nbsp;including&nbsp;whatever&nbsp;format&nbsp;plugins&nbsp;are&nbsp;available.&nbsp;(SCIFIO&nbsp;also&nbsp;has&nbsp;a&nbsp;Bio-Formats&nbsp;format&nbsp;plugin,&nbsp;so&nbsp;that&nbsp;all&nbsp;of&nbsp;the&nbsp;BF&nbsp;formats&nbsp;work&nbsp;in&nbsp;ImageJ&nbsp;that&nbsp;way,&nbsp;too!)&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;could&nbsp;then&nbsp;serve&nbsp;your&nbsp;Imaris&nbsp;writer&nbsp;from&nbsp;its&nbsp;own&nbsp;ImageJ&nbsp;update&nbsp;site&nbsp;[4,&nbsp;5],&nbsp;to&nbsp;make&nbsp;it&nbsp;available&nbsp;to&nbsp;all&nbsp;ImageJ&nbsp;users.&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&gt;&nbsp;In&nbsp;addition,&nbsp;I&#39;ve&nbsp;convinced&nbsp;Bitplane&nbsp;to&nbsp;make&nbsp;their&nbsp;format&nbsp;open&nbsp;source,&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&gt;&nbsp;and&nbsp;I&nbsp;believe&nbsp;this&nbsp;may&nbsp;allow&nbsp;.ims&nbsp;files&nbsp;to&nbsp;grow&nbsp;beyond&nbsp;a&nbsp;proprietary&lt;/div&gt;&lt;div&gt;&gt;&nbsp;file&nbsp;format&nbsp;into&nbsp;a&nbsp;generalized&nbsp;multi-resolution&nbsp;format&nbsp;useful&nbsp;for&nbsp;a&lt;/div&gt;&lt;div&gt;&gt;&nbsp;variety&nbsp;of&nbsp;applications&nbsp;that&nbsp;deal&nbsp;with&nbsp;the&nbsp;visualization&nbsp;of&nbsp;extremely&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&gt;&nbsp;large&nbsp;stitched&nbsp;images.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Glad&nbsp;to&nbsp;hear&nbsp;that&nbsp;Bitplane&nbsp;is&nbsp;willing&nbsp;to&nbsp;do&nbsp;this.&nbsp;In&nbsp;that&nbsp;case,&nbsp;if&nbsp;you&nbsp;do&nbsp;complete&nbsp;a&nbsp;SCIFIO&nbsp;Imaris&nbsp;writer&nbsp;and&nbsp;want&nbsp;to&nbsp;donate&nbsp;the&nbsp;code&nbsp;upstream,&nbsp;you&nbsp;could&nbsp;file&nbsp;a&nbsp;pull&nbsp;request&nbsp;against&nbsp;the&nbsp;SCIFIO&nbsp;LifeSci&nbsp;project&nbsp;[6]&nbsp;to&nbsp;contribute&nbsp;it&nbsp;there,&nbsp;since&nbsp;that&nbsp;project&nbsp;houses&nbsp;readers&nbsp;&amp;&nbsp;writers&nbsp;for&nbsp;_open_&nbsp;life&nbsp;sciences&nbsp;formats.&nbsp;So&nbsp;if&nbsp;Bitplane&nbsp;publishes&nbsp;an&nbsp;open&nbsp;specification,&nbsp;we&nbsp;would&nbsp;be&nbsp;willing&nbsp;to&nbsp;add&nbsp;it&nbsp;to&nbsp;the&nbsp;project.&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;you&nbsp;have&nbsp;any&nbsp;questions&nbsp;about&nbsp;SCIFIO,&nbsp;please&nbsp;feel&nbsp;free&nbsp;to&nbsp;use&nbsp;the&nbsp;SCIFIO&nbsp;mailing&nbsp;list&nbsp;[7].&nbsp;Or&nbsp;if&nbsp;you&nbsp;go&nbsp;the&nbsp;Bio-Formats&nbsp;route,&nbsp;you&nbsp;can&nbsp;use&nbsp;ome-devel&nbsp;[8].&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
<br>
<br>
Curtis&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;http://loci.wisc.edu/software/scifio&quot;&nbsp;target=&quot;_blank&quot;&gt;http://loci.wisc.edu/software/scifio&lt;/a&gt;&lt;/div&gt;&lt;div&gt;[2]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio&lt;/a&gt;&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
&lt;div&gt;[3]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio-tutorials&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio-tutorials&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;[4] &lt;a&nbsp;href=&quot;http://wiki.imagej.net/Update_Sites&quot;&nbsp;target=&quot;_blank&quot;&gt;http://wiki.imagej.net/Update_Sites&lt;/a&gt;&lt;/div&gt;&lt;div&gt;[5] &lt;a&nbsp;href=&quot;http://wiki.imagej.net/List_of_update_sites&quot;&nbsp;target=&quot;_blank&quot;&gt;http://wiki.imagej.net/List_of_update_sites&lt;/a&gt;&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
&lt;div&gt;<br>
[6] &lt;a&nbsp;href=&quot;https://github.com/scifio/scifio-lifesci&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio-lifesci&lt;/a&gt;&lt;/div&gt;&lt;div&gt;[7] &lt;a&nbsp;href=&quot;http://scif.io/mailman/listinfo/scifio&quot;&nbsp;target=&quot;_blank&quot;&gt;http://scif.io/mailman/listinfo/scifio&lt;/a&gt;&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
&lt;div&gt;[8] &lt;a&nbsp;href=&quot;http://lists.openmicroscopy.org.uk/mailman/listinfo/ome-devel/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.openmicroscopy.org.uk/mailman/listinfo/ome-devel/&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;<br>
&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;May&nbsp;29,&nbsp;2014&nbsp;at&nbsp;6:55&nbsp;PM,&nbsp;Henry&nbsp;Pinkard&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:henry.pinkard@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;henry.pinkard@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Melissa&nbsp;and&nbsp;Curtis,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Over&nbsp;the&nbsp;past&nbsp;couple&nbsp;years,&nbsp;I&#39;ve&nbsp;been&nbsp;developing&nbsp;and&nbsp;testing&nbsp;a&nbsp;java&nbsp;library&nbsp;that&nbsp;is&nbsp;capable&nbsp;of&nbsp;writing&nbsp;Imaris&nbsp;.ims&nbsp;files.&nbsp;This&nbsp;library&nbsp;has&nbsp;allowed&nbsp;me&nbsp;to&nbsp;build&nbsp;an&nbsp;ImageJ&nbsp;plugin&nbsp;that&nbsp;automatically&nbsp;stitches,&nbsp;processes,&nbsp;and&nbsp;converts&nbsp;OME-TIFFs&nbsp;from&nbsp;Micro-Manager&nbsp;into&nbsp;Imaris&nbsp;files,&nbsp;which&nbsp;in&nbsp;turn&nbsp;allows&nbsp;a&nbsp;significantly&nbsp;greater&nbsp;throughput&nbsp;of&nbsp;imaging&nbsp;data&nbsp;with&nbsp;much&nbsp;less&nbsp;effort&nbsp;from&nbsp;users.&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;library&nbsp;has&nbsp;been&nbsp;instrumental&nbsp;to&nbsp;the&nbsp;workflow&nbsp;of&nbsp;users&nbsp;in&nbsp;the&nbsp;imaging&nbsp;center&nbsp;in&nbsp;which&nbsp;I&nbsp;work,&nbsp;and&nbsp;I&nbsp;want&nbsp;to&nbsp;find&nbsp;a&nbsp;way&nbsp;to&nbsp;share&nbsp;its&nbsp;utility&nbsp;with&nbsp;researchers&nbsp;everywhere.&nbsp;Incorporating&nbsp;it&nbsp;into&nbsp;the&nbsp;Bio-Formats&nbsp;exporter&nbsp;would&nbsp;both&nbsp;increase&nbsp;its&nbsp;visibility&nbsp;and&nbsp;leverage&nbsp;the&nbsp;multitude&nbsp;of&nbsp;formats&nbsp;on&nbsp;Bio-Formats&#39;&nbsp;front&nbsp;end&nbsp;to&nbsp;make&nbsp;it&nbsp;usable&nbsp;with&nbsp;all&nbsp;types&nbsp;of&nbsp;microscopy&nbsp;data.&nbsp;In&nbsp;addition,&nbsp;I&#39;ve&nbsp;convinced&nbsp;Bitplane&nbsp;to&nbsp;make&nbsp;their&nbsp;format&nbsp;open&nbsp;source,&nbsp;and&nbsp;I&nbsp;believe&nbsp;this&nbsp;may&nbsp;allow&nbsp;.ims&nbsp;files&nbsp;to&nbsp;grow&nbsp;beyond&nbsp;a&nbsp;proprietary&nbsp;file&nbsp;format&nbsp;into&nbsp;a&nbsp;generalized&nbsp;multi-resolution&nbsp;format&nbsp;useful&nbsp;for&nbsp;a&nbsp;variety&nbsp;of&nbsp;applications&nbsp;that&nbsp;deal&nbsp;with&nbsp;the&nbsp;visualization&nbsp;of&nbsp;extremely&nbsp;large&nbsp;stitched&nbsp;images.&nbsp;I&#39;m&nbsp;happy&nbsp;to&nbsp;rework&nbsp;the&nbsp;library&nbsp;in&nbsp;whatever&nbsp;ways&nbsp;make&nbsp;it&nbsp;easiest&nbsp;to&nbsp;incorporate&nbsp;on&nbsp;your&nbsp;end.&nbsp;Let&nbsp;me&nbsp;know&nbsp;your&nbsp;thoughts&nbsp;on&nbsp;how&nbsp;to&nbsp;best&nbsp;proceed.&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best,&lt;/div&gt;&lt;div&gt;Henry&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;_______________________________________________&lt;br&gt;<br>
SCIFIO&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:SCIFIO@scif.io&quot;&nbsp;target=&quot;_blank&quot;&gt;SCIFIO@scif.io&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://scif.io/mailman/listinfo/scifio&quot;&nbsp;target=&quot;_blank&quot;&gt;http://scif.io/mailman/listinfo/scifio&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
