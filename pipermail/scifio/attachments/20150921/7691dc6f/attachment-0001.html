<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hi&nbsp;Tobias,&lt;br&gt;&lt;br&gt;&gt;All&nbsp;the&nbsp;figuring&nbsp;out&nbsp;who&nbsp;is&nbsp;responsible&nbsp;and&nbsp;whether&nbsp;it&nbsp;is&nbsp;already&nbsp;<br>
managed&nbsp;etc.,&nbsp;that&nbsp;looks&nbsp;really&nbsp;expensive&nbsp;to&nbsp;do&nbsp;for&nbsp;each&nbsp;Cell&nbsp;if&nbsp;you&nbsp;<br>
have&nbsp;a&nbsp;lot&nbsp;of&nbsp;small&nbsp;Cells&nbsp;as&nbsp;in&nbsp;BDV.&lt;br&gt;&lt;br&gt;&lt;/div&gt;There&nbsp;will&nbsp;always&nbsp;be&nbsp;overhead&nbsp;for&nbsp;plugin-based&nbsp;matching.&nbsp;Ideally&nbsp;it&nbsp;shouldn&#39;t&nbsp;be&nbsp;more&nbsp;than&nbsp;a&nbsp;couple&nbsp;of&nbsp;hash&nbsp;map&nbsp;lookups.&nbsp;As&nbsp;far&nbsp;as&nbsp;complexity&nbsp;scaling&nbsp;with&nbsp;number&nbsp;of&nbsp;plugins&nbsp;of&nbsp;a&nbsp;given&nbsp;type,&nbsp;that&#39;s&nbsp;a&nbsp;general&nbsp;concern&nbsp;which&nbsp;will&nbsp;likely&nbsp;necessitate&nbsp;more&nbsp;indexing&nbsp;support&nbsp;in&nbsp;SciJava&nbsp;eventually.&nbsp;Also&nbsp;the&nbsp;ref&nbsp;manager&nbsp;should&nbsp;be&nbsp;a&nbsp;HandlerService.&lt;br&gt;&lt;br&gt;&lt;/div&gt;The&nbsp;alternative&nbsp;I&nbsp;think&nbsp;is&nbsp;for&nbsp;cells&nbsp;to&nbsp;know&nbsp;that&nbsp;they&nbsp;need&nbsp;a&nbsp;phantom&nbsp;reference&nbsp;that&nbsp;can&nbsp;cache&nbsp;them,&nbsp;and&nbsp;to&nbsp;always&nbsp;construct&nbsp;it&nbsp;when&nbsp;a&nbsp;cell&nbsp;is&nbsp;constructed.&nbsp;Since&nbsp;you&nbsp;have&nbsp;to&nbsp;construct&nbsp;and&nbsp;queue&nbsp;a&nbsp;reference&nbsp;either&nbsp;way,&nbsp;in&nbsp;theory&nbsp;I&nbsp;wouldn&#39;t&nbsp;expect&nbsp;compatibility&nbsp;determination&nbsp;to&nbsp;be&nbsp;the&nbsp;performance&nbsp;bottleneck.&nbsp;I&nbsp;have&nbsp;not&nbsp;profiled&nbsp;the&nbsp;performance&nbsp;of&nbsp;the&nbsp;cache&nbsp;service&nbsp;but&nbsp;if&nbsp;doing&nbsp;so&nbsp;did&nbsp;reveal&nbsp;compatibility&nbsp;determination&nbsp;to&nbsp;be&nbsp;a&nbsp;problem,&nbsp;then&nbsp;I&nbsp;would&nbsp;also&nbsp;expect&nbsp;it&nbsp;to&nbsp;be&nbsp;resolved&nbsp;with&nbsp;better&nbsp;caching&nbsp;and&nbsp;indexing.&lt;br&gt;&lt;br&gt;&lt;/div&gt;Anyway,&nbsp;for&nbsp;technical&nbsp;stuff&nbsp;like&nbsp;this&nbsp;it&#39;s&nbsp;best&nbsp;we&nbsp;discuss&nbsp;on&nbsp;the&nbsp;mailing&nbsp;list&nbsp;or&nbsp;GitHub.&lt;br&gt;&lt;br&gt;If&nbsp;you&nbsp;notice&nbsp;problems&nbsp;while&nbsp;you&#39;re&nbsp;looking&nbsp;at&nbsp;the&nbsp;code,&nbsp;it&#39;s&nbsp;more&nbsp;efficient&nbsp;for&nbsp;you&nbsp;to&nbsp;commit&nbsp;a&nbsp;fix&nbsp;directly&nbsp;since&nbsp;you&nbsp;have&nbsp;commit&nbsp;rights.&nbsp;If&nbsp;the&nbsp;fix&nbsp;is&nbsp;not&nbsp;clear,&nbsp;then&nbsp;I&nbsp;would&nbsp;open&nbsp;a&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/issues&quot;&gt;GitHub&nbsp;issue&lt;/a&gt;.&lt;br&gt;&lt;br&gt;&lt;/div&gt;Hope&nbsp;that&nbsp;helps.&lt;br&gt;&lt;br&gt;&lt;/div&gt;Thanks,&lt;br&gt;&lt;/div&gt;Mark&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Sep&nbsp;18,&nbsp;2015&nbsp;at&nbsp;11:29&nbsp;AM,&nbsp;Tobias&nbsp;Pietzsch&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:pietzsch@mpi-cbg.de&quot;&nbsp;target=&quot;_blank&quot;&gt;pietzsch@mpi-cbg.de&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:break-word&quot;&gt;Hi&nbsp;Mark,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;did&nbsp;you&nbsp;ever&nbsp;benchmark&nbsp;how&nbsp;much&nbsp;time&nbsp;is&nbsp;spent&nbsp;in&nbsp;DefaultRefManagerService.manage()&lt;/div&gt;&lt;div&gt;All&nbsp;the&nbsp;figuring&nbsp;out&nbsp;who&nbsp;is&nbsp;responsible&nbsp;and&nbsp;whether&nbsp;it&nbsp;is&nbsp;already&nbsp;managed&nbsp;etc.,&nbsp;that&nbsp;looks&nbsp;really&nbsp;expensive&nbsp;to&nbsp;do&nbsp;for&nbsp;each&nbsp;Cell&nbsp;if&nbsp;you&nbsp;have&nbsp;a&nbsp;lot&nbsp;of&nbsp;small&nbsp;Cells&nbsp;as&nbsp;in&nbsp;BDV.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;best&nbsp;regards,&lt;/div&gt;&lt;div&gt;Tobias&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;18&nbsp;Sep&nbsp;2015,&nbsp;at&nbsp;17:24,&nbsp;Tobias&nbsp;Pietzsch&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:pietzsch@mpi-cbg.de&quot;&nbsp;target=&quot;_blank&quot;&gt;pietzsch@mpi-cbg.de&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:break-word&quot;&gt;&lt;div&gt;member&nbsp;variable&nbsp;DefaultRefManagerService.disposed&lt;/div&gt;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/master/src/main/java/io/scif/refs/DefaultRefManagerService.java#L75&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/master/src/main/java/io/scif/refs/DefaultRefManagerService.java#L75&lt;/a&gt;&lt;div&gt;is&nbsp;named&nbsp;and&nbsp;documented&nbsp;in&nbsp;the&nbsp;wrong&nbsp;way&nbsp;(should&nbsp;be&nbsp;renamed&nbsp;to&nbsp;“notDisposed”&nbsp;or&nbsp;“running”&nbsp;or&nbsp;similar),&nbsp;or&nbsp;used&nbsp;in&nbsp;the&nbsp;wrong&nbsp;way&nbsp;in&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/master/src/main/java/io/scif/refs/DefaultRefManagerService.java#L143&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/master/src/main/java/io/scif/refs/DefaultRefManagerService.java#L143&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/master/src/main/java/io/scif/refs/DefaultRefManagerService.java#L150&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/master/src/main/java/io/scif/refs/DefaultRefManagerService.java#L150&lt;/a&gt;&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;On&nbsp;18&nbsp;Sep&nbsp;2015,&nbsp;at&nbsp;14:07,&nbsp;Tobias&nbsp;Pietzsch&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:pietzsch@mpi-cbg.de&quot;&nbsp;target=&quot;_blank&quot;&gt;pietzsch@mpi-cbg.de&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:break-word&quot;&gt;&lt;div&gt;Javadoc&nbsp;for&nbsp;class&lt;/div&gt;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/master/src/main/java/io/scif/refs/CleaningRef.java#L41&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/master/src/main/java/io/scif/refs/CleaningRef.java#L41&lt;/a&gt;&lt;div&gt;and&nbsp;method&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/master/src/main/java/io/scif/refs/CleaningRef.java#L49&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/master/src/main/java/io/scif/refs/CleaningRef.java#L49&lt;/a&gt;&lt;div&gt;are&nbsp;contradictory.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;17&nbsp;Sep&nbsp;2015,&nbsp;at&nbsp;18:18,&nbsp;Mark&nbsp;Hiner&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:hiner@wisc.edu&quot;&nbsp;target=&quot;_blank&quot;&gt;hiner@wisc.edu&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hi&nbsp;Tobi,&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&#39;ll&nbsp;be&nbsp;back&nbsp;Monday.&lt;br&gt;&lt;br&gt;&lt;/div&gt;There&#39;s&nbsp;are&nbsp;eclipse&nbsp;config&nbsp;files&nbsp;in&nbsp;scifio.git/config&nbsp;but&nbsp;I&nbsp;think&nbsp;maybe&nbsp;they&nbsp;should&nbsp;just&nbsp;be&nbsp;removed&nbsp;in&nbsp;favor&nbsp;of&nbsp;those&nbsp;in&nbsp;imagej/imagej.&nbsp;Either&nbsp;way&nbsp;a&nbsp;code&nbsp;cleanup&nbsp;commit&nbsp;wouldn&#39;t&nbsp;hurt.&lt;br&gt;&lt;br&gt;&lt;/div&gt;Feel&nbsp;free&nbsp;to&nbsp;commit&nbsp;any&nbsp;fixes&nbsp;directly&nbsp;if&nbsp;you&#39;d&nbsp;like.&nbsp;A&nbsp;lot&nbsp;of&nbsp;those&nbsp;classes&nbsp;will&nbsp;probably&nbsp;change&nbsp;with&nbsp;a&nbsp;refactoring&nbsp;to&nbsp;rely&nbsp;more&nbsp;on&nbsp;imglib2&nbsp;classes.&nbsp;Otherwise,&nbsp;I&nbsp;will&nbsp;try&nbsp;to&nbsp;remember&nbsp;next&nbsp;week.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Sep&nbsp;17,&nbsp;2015&nbsp;at&nbsp;11:02&nbsp;AM,&nbsp;Tobias&nbsp;Pietzsch&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:pietzsch@mpi-cbg.de&quot;&nbsp;target=&quot;_blank&quot;&gt;pietzsch@mpi-cbg.de&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi&nbsp;Mark,&lt;br&gt;<br>
&lt;br&gt;<br>
I’m&nbsp;currently&nbsp;digging&nbsp;through&nbsp;SCIFIOCellCache,&nbsp;MapDBCache,&nbsp;etc.&lt;br&gt;<br>
I&nbsp;guess&nbsp;I’ll&nbsp;be&nbsp;bugging&nbsp;you&nbsp;with&nbsp;questions&nbsp;over&nbsp;the&nbsp;next&nbsp;days...&lt;br&gt;<br>
...respectively&nbsp;when&nbsp;you&nbsp;are&nbsp;back&nbsp;from&nbsp;your&nbsp;vacation.&nbsp;Please&nbsp;feel&nbsp;free&nbsp;to&nbsp;postpone&nbsp;answering&nbsp;until&nbsp;after&nbsp;vacation.&nbsp;I’ll&nbsp;just&nbsp;send&nbsp;emails&nbsp;with&nbsp;everything&nbsp;I&nbsp;notice&nbsp;so&nbsp;that&nbsp;I&nbsp;don’t&nbsp;forget.&nbsp;When&nbsp;will&nbsp;you&nbsp;be&nbsp;back?&lt;br&gt;<br>
&lt;br&gt;<br>
Could&nbsp;you&nbsp;please&nbsp;add&nbsp;me&nbsp;as&nbsp;an&nbsp;author&nbsp;of&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/master/src/main/java/io/scif/img/cell/SCIFIOImgCells.java&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/master/src/main/java/io/scif/img/cell/SCIFIOImgCells.java&lt;/a&gt;&nbsp;class&nbsp;(because&nbsp;this&nbsp;is&nbsp;basically&nbsp;the&nbsp;same&nbsp;as&nbsp;&lt;a&nbsp;href=&quot;https://github.com/bigdataviewer/bigdataviewer-core/blob/master/src/main/java/bdv/img/cache/VolatileImgCells.java&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/bigdataviewer/bigdataviewer-core/blob/master/src/main/java/bdv/img/cache/VolatileImgCells.java&lt;/a&gt;&nbsp;from&nbsp;BDV)?&lt;br&gt;<br>
&lt;br&gt;<br>
Something&nbsp;seems&nbsp;to&nbsp;have&nbsp;gone&nbsp;wrong&nbsp;with&nbsp;auto-formatting&nbsp;the&nbsp;comments&nbsp;here&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/master/src/main/java/io/scif/img/cell/SCIFIOCell.java#L60-L64&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/master/src/main/java/io/scif/img/cell/SCIFIOCell.java#L60-L64&lt;/a&gt;&lt;br&gt;<br>
and&nbsp;here&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/master/src/main/java/io/scif/img/cell/SCIFIOCell.java#L69-L71&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/master/src/main/java/io/scif/img/cell/SCIFIOCell.java#L69-L71&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Is&nbsp;there&nbsp;an&nbsp;eclipse&nbsp;style&nbsp;file&nbsp;for&nbsp;SCIFIO?&lt;br&gt;<br>
&lt;br&gt;<br>
best&nbsp;regards,&lt;br&gt;<br>
Tobias&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
