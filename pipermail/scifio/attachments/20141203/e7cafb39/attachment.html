<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=windows-1252&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&gt;Curtis,&nbsp;many&nbsp;thanks.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Whilst&nbsp;I’m&nbsp;on&nbsp;the&nbsp;subject&nbsp;of&nbsp;TIFF&nbsp;I&nbsp;experimented&nbsp;with&nbsp;using&nbsp;the&nbsp;TIFF&nbsp;specific&nbsp;reader/parser.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Our&nbsp;TIFF&nbsp;files&nbsp;use&nbsp;the&nbsp;PAGE_NAME&nbsp;TIFF&nbsp;TIFF&nbsp;tag&nbsp;to&nbsp;give&nbsp;a&nbsp;name&nbsp;to&nbsp;each&nbsp;of&nbsp;the&nbsp;channel&nbsp;names.&nbsp;Is&nbsp;this&nbsp;information&nbsp;accessible&nbsp;through&nbsp;the&nbsp;SCIFIO?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Many&nbsp;thanks&nbsp;—&nbsp;Michael&nbsp;Ellis&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;On&nbsp;3&nbsp;Dec&nbsp;2014,&nbsp;at&nbsp;18:26,&nbsp;Curtis&nbsp;Rueden&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:ctrueden@wisc.edu&quot;&gt;ctrueden@wisc.edu&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Michael,&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&gt;&nbsp;I’m&nbsp;curious&nbsp;though&nbsp;because&nbsp;I&nbsp;didn’t&nbsp;think&nbsp;PNG&nbsp;files&nbsp;could&nbsp;handle&lt;/div&gt;&lt;div&gt;&gt;&nbsp;anything&nbsp;other&nbsp;than&nbsp;2D&nbsp;images.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;SCIFIO&nbsp;writes&nbsp;the&nbsp;APNG&nbsp;format&nbsp;[1]&nbsp;when&nbsp;there&nbsp;are&nbsp;multiple&nbsp;planes.&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&gt;&nbsp;So&nbsp;I&nbsp;try&nbsp;to&nbsp;open&nbsp;the&nbsp;SCIFIOTutorial.png&nbsp;in&nbsp;ImageJ&nbsp;and&nbsp;I&nbsp;see&nbsp;only&nbsp;a&lt;/div&gt;&lt;div&gt;&gt;&nbsp;single&nbsp;plane&nbsp;image.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Standard&nbsp;PNG&nbsp;readers&nbsp;(including&nbsp;ImageJ&nbsp;1.x's&nbsp;built-in&nbsp;PNG&nbsp;reader)&nbsp;will&nbsp;read&nbsp;only&nbsp;the&nbsp;first&nbsp;plane.&nbsp;Did&nbsp;you&nbsp;try&nbsp;with&nbsp;File&nbsp;&gt;&nbsp;Import&nbsp;&gt;&nbsp;Image...&nbsp;which&nbsp;uses&nbsp;SCIFIO&nbsp;when&nbsp;opening?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&gt;&nbsp;I&nbsp;change&nbsp;SCIFIOTutorial.png&nbsp;to&nbsp;SCIFIOTutorial.tif&nbsp;and&nbsp;run&nbsp;the&nbsp;program.&lt;/div&gt;&lt;div&gt;&gt;&nbsp;I&nbsp;get&nbsp;the&nbsp;following&nbsp;exception:&lt;/div&gt;&lt;div&gt;&gt;&nbsp;&lt;/div&gt;&lt;div&gt;&gt;&nbsp;Exception&nbsp;in&nbsp;thread&nbsp;&quot;main&quot;&nbsp;io.scif.FormatException:&nbsp;Buffer&nbsp;too&nbsp;small&lt;/div&gt;&lt;div&gt;&gt;&nbsp;(got&nbsp;2500,&nbsp;expected&nbsp;12500).&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;the&nbsp;report.&nbsp;I&nbsp;can&nbsp;confirm&nbsp;this&nbsp;bug.&nbsp;I&nbsp;filed&nbsp;an&nbsp;issue&nbsp;for&nbsp;it:&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/issues/236&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/issues/236&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&gt;&nbsp;So&nbsp;how&nbsp;do&nbsp;I&nbsp;save&nbsp;a&nbsp;X,Y,Channels&nbsp;image&nbsp;in&nbsp;TIFF&nbsp;format&nbsp;with&nbsp;SCIFIO?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Once&nbsp;that&nbsp;issue&nbsp;is&nbsp;resolved,&nbsp;things&nbsp;should&nbsp;work!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;Curtis&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;https://en.wikipedia.org/wiki/APNG&quot;&nbsp;target=&quot;_blank&quot;&gt;https://en.wikipedia.org/wiki/APNG&lt;/a&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Dec&nbsp;3,&nbsp;2014&nbsp;at&nbsp;5:20&nbsp;AM,&nbsp;Michael&nbsp;Ellis&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:michael.ellis@dsuk.biz&quot;&nbsp;target=&quot;_blank&quot;&gt;michael.ellis@dsuk.biz&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;T1dSavingImagePlanes&nbsp;saves&nbsp;a&nbsp;fake&nbsp;image&nbsp;“8bit-signed&amp;pixelType=int8&amp;lengths=50,50,3,5,7&amp;axes=X,Y,Z,Channel,Time.fake”&nbsp;as&nbsp;a&nbsp;png&nbsp;file.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;run&nbsp;the&nbsp;program&nbsp;and&nbsp;it&nbsp;completes&nbsp;without&nbsp;errors.&lt;br&gt;<br>
&lt;br&gt;<br>
I’m&nbsp;curious&nbsp;though&nbsp;because&nbsp;I&nbsp;didn’t&nbsp;think&nbsp;PNG&nbsp;files&nbsp;could&nbsp;handle&nbsp;anything&nbsp;other&nbsp;than&nbsp;2D&nbsp;images.&nbsp;So&nbsp;I&nbsp;try&nbsp;to&nbsp;open&nbsp;the&nbsp;SCIFIOTutorial.png&lt;br&gt;<br>
in&nbsp;ImageJ&nbsp;and&nbsp;I&nbsp;see&nbsp;only&nbsp;a&nbsp;single&nbsp;plane&nbsp;image.&nbsp;There&nbsp;are&nbsp;no&nbsp;warnings&nbsp;or&nbsp;errors&nbsp;when&nbsp;saving&nbsp;the&nbsp;file&nbsp;to&nbsp;suggest&nbsp;that&nbsp;there&nbsp;is&nbsp;any&nbsp;loss&nbsp;of&nbsp;fidelity.&nbsp;Is&lt;br&gt;<br>
that&nbsp;the&nbsp;intention?&lt;br&gt;<br>
&lt;br&gt;<br>
Anyway,&nbsp;I&nbsp;know&nbsp;TIFF&nbsp;files&nbsp;can&nbsp;support&nbsp;multiple&nbsp;channels,&nbsp;so&nbsp;I&nbsp;change&nbsp;SCIFIOTutorial.png&nbsp;to&nbsp;SCIFIOTutorial.tif&nbsp;and&nbsp;run&nbsp;the&nbsp;program.&nbsp;I&nbsp;get&nbsp;the&nbsp;following&nbsp;exception:&lt;br&gt;<br>
&lt;br&gt;<br>
Exception&nbsp;in&nbsp;thread&nbsp;&quot;main&quot;&nbsp;io.scif.FormatException:&nbsp;Buffer&nbsp;too&nbsp;small&nbsp;(got&nbsp;2500,&nbsp;expected&nbsp;12500).&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;io.scif.util.FormatTools.checkBufferSize(FormatTools.java:665)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;io.scif.util.FormatTools.checkPlaneForWriting(FormatTools.java:610)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;io.scif.AbstractWriter.checkParams(AbstractWriter.java:121)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;io.scif.formats.TIFFFormat$Writer.savePlane(TIFFFormat.java:1291)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;io.scif.formats.TIFFFormat$Writer.writePlane(TIFFFormat.java:1399)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;io.scif.AbstractWriter.savePlane(AbstractWriter.java:168)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;io.scif.AbstractWriter.savePlane(AbstractWriter.java:159)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;io.scif.tutorials.core.T1dSavingImagePlanes.main(T1dSavingImagePlanes.java:75)&lt;br&gt;<br>
&lt;br&gt;<br>
Now&nbsp;this&nbsp;is&nbsp;most&nbsp;unexpected,&nbsp;because&nbsp;I&nbsp;would&nbsp;have&nbsp;assumed&nbsp;the&nbsp;TIFF&nbsp;format&nbsp;was&nbsp;able&nbsp;to&nbsp;store&nbsp;the&nbsp;images&nbsp;with&nbsp;at&nbsp;least&nbsp;the&nbsp;same&nbsp;fidelity&nbsp;as&nbsp;PNG.&lt;br&gt;<br>
&lt;br&gt;<br>
OK&nbsp;I&nbsp;know&nbsp;TIFF&nbsp;can&nbsp;save&nbsp;files&nbsp;of&nbsp;3&nbsp;dimensions,&nbsp;so&nbsp;I&nbsp;change&nbsp;the&nbsp;fake&nbsp;images&nbsp;to&nbsp;“8bit-signed&amp;pixelType=int8&amp;lengths=50,50,7&amp;axes=X,Y,Channel.fake”&lt;br&gt;<br>
&lt;br&gt;<br>
Again&nbsp;I&nbsp;get&nbsp;and&nbsp;exception.&lt;br&gt;<br>
&lt;br&gt;<br>
OK,&nbsp;how&nbsp;about&nbsp;a&nbsp;2D&nbsp;image,&nbsp;“8bit-signed&amp;pixelType=int8&amp;lengths=50,50&amp;axes=X,Y.fake”?&lt;br&gt;<br>
&lt;br&gt;<br>
And&nbsp;that&nbsp;finally&nbsp;works.&lt;br&gt;<br>
&lt;br&gt;<br>
So&nbsp;how&nbsp;do&nbsp;I&nbsp;save&nbsp;a&nbsp;X,Y,Channels&nbsp;image&nbsp;in&nbsp;TIFF&nbsp;format&nbsp;with&nbsp;SCIFIO?&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;for&nbsp;any&nbsp;help.&lt;br&gt;<br>
&lt;br&gt;<br>
—&nbsp;Michael&nbsp;Ellis&lt;br&gt;<br>
Digital&nbsp;Scientific&nbsp;UK&nbsp;Ltd.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
SCIFIO&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:SCIFIO@scif.io&quot;&nbsp;target=&quot;_blank&quot;&gt;SCIFIO@scif.io&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://scif.io/mailman/listinfo/scifio&quot;&nbsp;target=&quot;_blank&quot;&gt;http://scif.io/mailman/listinfo/scifio&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
